{"version":3,"sources":["components/ComingSoon/Settings/Settings.module.css","customHookCSS/useClasses.ts","components/NavBar/NavBar.tsx","common/Preloader/Preloader.tsx","components/ComingSoon/Music/Music.tsx","components/ComingSoon/News/News.tsx","components/ComingSoon/Settings/Settings.tsx","components/Dialogs/RightDialogMenu/RightDialogMenu.tsx","components/ComingSoon/Communities/Communities.tsx","components/ComingSoon/Photos/Photos.tsx","components/ComingSoon/Videos/Videos.tsx","redux/dialogs-reducer.ts","assets/images/userAvatar.jpg","components/Profile/RightColumn/Posts/Post/Post.tsx","components/Dialogs/Messages/SentMessage.tsx","components/Dialogs/Messages/ReceivedMessage.tsx","components/Dialogs/Headers/ChatHeader.tsx","utils/validators/validators.ts","components/Dialogs/Chat.tsx","components/Dialogs/ChatContainer.tsx","components/Dialogs/Headers/DialogsHeader.tsx","common/Preloader/DialogsAlert/CustomizedDialogsAlert.tsx","components/Dialogs/UserDialogElement/UserDialogElement.tsx","components/Dialogs/Dialogs.tsx","hoc/WithAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","API/api.ts","redux/users-reducer.ts","components/Users/UserCard/UserCard.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Profile/RightColumn/UserInfo/ProfileStatus.tsx","components/Profile/RightColumn/UserInfo/UserInfo.tsx","components/Profile/LeftColumn/ProfileInfo/ProfileInfo.tsx","redux/profile-reducer.ts","components/Profile/RightColumn/AddPost/AddPost.tsx","components/Profile/RightColumn/AddPost/AddPostContainer.tsx","components/Profile/RightColumn/Posts/Posts.tsx","components/Profile/RightColumn/Posts/PostsContainer.tsx","components/Profile/LeftColumn/Suggestions/Suggestions.tsx","components/Profile/LeftColumn/Suggestions/SuggestionsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/app-reducer.ts","API/chat-api.ts","redux/chat-reducer.ts","components/Chat/Chat.tsx","App.tsx","reportWebVitals.ts","redux/redux-store.ts","index.tsx"],"names":["module","exports","useClasses","stylesElement","theme","useTheme","useMemo","rawClasses","prepared","Object","entries","forEach","key","value","css","styles","navLink","textDecoration","color","NavBar","classes","React","selectedIndex","setSelectedIndex","handleListItemClick","event","index","to","className","ListItemButton","selected","onClick","StyledListItemIcon","ListItemText","primary","Divider","styled","ListItemIcon","Preloader","Box","sx","position","top","left","CircularProgress","Music","Grid","item","xs","Paper","elevation","style","width","height","paper","marginTop","spacing","display","flexDirection","alignItems","root","backgroundColor","button","Root","padding","breakpoints","down","palette","secondary","main","up","green","News","container","direction","flexWrap","TextField","Button","variant","Settings","s","settingsWrap","settingListMenu","href","paddingRight","settingMenu","CustomListItem","ListItem","visibility","rightDialogMenu","RightDialogMenu","useState","open","setClose","lg","wrap","List","disablePadding","exact","secondaryAction","IconButton","aria-label","edge","Delete","fontSize","Communities","Photos","Videos","initialState","dialogs","id","v1","name","messages","message","sendMessageCreator","newMessText","type","checkOneDigitNumbers","i","monthNames","currentTime","today","Date","h","getHours","m","getMinutes","day","getDate","month","getMonth","userName","margin","postTime","RootPostContainer","Post","memo","props","Avatar","alt","src","photos","large","defaultUserAvatar","paddingTop","marginLeft","deletePost","wordWrap","likeCount","size","right","SentMessage","SentMessageContainer","editMode","setSelectedMessages","ReceivedMessageContainer","ReceivedMessage","ChatHeader","history","useHistory","justifyContent","paddingLeft","paddingBottom","Typography","selectedMessageCount","setEditMode","startIcon","goBack","deleteMessages","requiredField","maxLengthCreator","maxLength","length","Chat","messageArea","useRef","messagesEndRef","openAlert","setOpenAlert","selectedMessages","useEffect","current","scrollIntoView","behavior","dialogsPage","handleSelectMessage","messID","includes","filter","messagesElements","map","md","RootContainer","x","MessagesArea","ref","InputArea","AddMessageFormRedux","onSubmit","values","newMessageBody","sendMessage","Snackbar","autoHideDuration","bottom","onClose","Alert","severity","overflow","overflowY","background","borderRadius","renderTextField","label","input","meta","touched","invalid","error","custom","helperText","fullWidth","multiline","autoFocus","maxRows","autoComplete","marginRight","maxLength100","reduxForm","form","handleSubmit","Field","component","validate","endIcon","Send","ChatContainer","connect","state","dialogPage","dispatch","selectedMess","Search","shape","alpha","common","white","SearchIconWrapper","pointerEvents","StyledInputBase","InputBase","DialogsHeader","boxSizing","onChange","e","setSearchDialogName","currentTarget","changeEventHandler","placeholder","inputProps","aria-haspopup","BootstrapDialog","Dialog","BootstrapDialogTitle","children","other","DialogTitle","p","grey","CustomizedDialogsAlert","setOpen","handleClose","aria-labelledby","DialogContent","dividers","gutterBottom","DialogActions","deleteDialog","dialogID","UserDialogElement","ListItemAvatar","Dialogs","searchDialogName","dialogsElements","d","toLowerCase","mapStateToProps","isAuth","auth","withAuthRedirect","Component","restProps","compose","DeleteDialogCreator","instance","axios","create","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","post","unfollow","delete","profileAPI","userId","status","put","authAPI","email","password","rememberMe","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setUsers","setCurrentPage","page","toggleIsFetching","toggleFollowingProgress","isProgress","followUnfollowFlow","apiMethod","actionCreator","a","resultCode","UserCard","marginBottom","UserAvatar","defaultUserPhoto","textAlign","fontWeight","followed","disabled","some","Users","pagesCount","Math","ceil","usersElement","u","Input","NativeSelect","defaultValue","Pagination","count","handlePageChange","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","this","bind","items","totalCount","ProfileStatusWithHooks","setStatus","onBlur","updateStatus","Tooltip","title","placement","StyledStatus","onDoubleClick","Item","typography","body2","text","StyledBadge","Badge","font","rootContainer","userInfoContainer","userInfoContainerContent","editButton","float","statusInput","userPosition","UserInfo","profile","fullName","ProfileStatus","invisible","lookingForAJob","badgeContent","lookingForAJobDescription","CustomAvatar","border","profileFacebookIcon","profileWebsiteIcon","profileVkontakteIcon","profileTwitterIcon","profileInstagramIcon","profileYouTubeIcon","profileGitHubIcon","profileLinkedInIcon","ProfileInfo","setInvisible","onMouseEnter","onMouseLeave","overlap","anchorOrigin","vertical","horizontal","contacts","github","target","rel","posts","aboutMe","facebook","website","vk","twitter","instagram","youtube","mainLink","small","addPostButton","AddPost","profilePage","charAt","AddPostFormRedux","newPostText","addPost","maxLength50","AddPostContainer","PostContainer","NoPostsContainer","Posts","console","log","postsElement","profilePhotos","PostsContainer","postID","DeletePostCreator","Suggestions","suggestionElements","slice","SuggestionsContainer","Profile","xl","ProfileContainer","match","params","authorizedUserId","toString","getUserProfile","getStatus","withRouter","MainHeaderContainer","Header","useSelector","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","setState","toggleDrawer","isMobileMenuOpen","Boolean","handleProfileMenuOpen","renderMenu","Menu","PaperProps","mt","ml","mr","content","bgcolor","transform","zIndex","transformOrigin","MenuItem","login","logout","Logout","mobileMenuId","renderMobileMenu","keepMounted","aria-controls","flexGrow","AppBar","sm","Drawer","anchor","role","onKeyDown","noWrap","setAuthUserData","getAuthUserData","HeaderContainer","renderCheckbox","FormControlLabel","control","Checkbox","checked","LoginReduxForm","Chip","icon","stopSubmit","_error","RootContentContainer","LogInInfoContainer","LogInFormContainer","formData","initialized","subcribers","ws","closeHandler","notifySubscribersAboutStatus","setTimeout","createChannel","messageHandler","newMessages","JSON","parse","openHandler","errorHandler","cleanUp","removeEventListener","close","WebSocket","addEventListener","chatAPI","eventName","callback","push","send","actions","payload","_newMessageHandler","newMessageHandlerCreator","_statusChangedHandler","statusChangedHandlerCreator","chatReducer","action","array","Message","MessageContainer","photo","MessageText","Messages","chat","messagesAnchorRef","isAutoScroll","setIsAutoScroll","ChatArea","onScroll","element","abs","scrollHeight","scrollTop","clientHeight","AddMessageForm","setMessage","useDispatch","lightTheme","createTheme","mode","darkTheme","MainContentContainer","gap","between","navigationContainer","only","App","isDarkMode","setDarkMode","app","promise","Promise","all","ThemeProvider","CssBaseline","path","render","DialogsContainer","ModeButton","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducers","combineReducers","newPost","newMess","formReducer","store","createStore","applyMiddleware","thunkMiddleWare","window","defaults","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d85abc0a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingsWrap\":\"Settings_settingsWrap__3O1GX\",\"settingListMenu\":\"Settings_settingListMenu__KqEhc\",\"settingMenu\":\"Settings_settingMenu__31it7\"};","import { useMemo } from 'react';\r\nimport { css } from '@emotion/css';\r\nimport {useTheme} from \"@mui/material\";\r\n\r\nconst useClasses = (stylesElement: any) => {\r\n    const theme = useTheme();\r\n    return useMemo(() => {\r\n        const rawClasses = typeof stylesElement === 'function'\r\n            ? stylesElement(theme)\r\n            : stylesElement;\r\n        const prepared:any = {};\r\n\r\n        Object.entries(rawClasses).forEach(([key, value = {}]) => {\r\n            // @ts-ignore\r\n            prepared[key] = css(value);\r\n        });\r\n\r\n        return prepared;\r\n    }, [stylesElement, theme]);\r\n};\r\n\r\nexport default useClasses;","import * as React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport ListItemButton from '@mui/material/ListItemButton';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport AccountCircleOutlinedIcon from '@mui/icons-material/AccountCircleOutlined';\r\nimport ChatOutlinedIcon from '@mui/icons-material/ChatOutlined';\r\nimport GroupAddOutlinedIcon from '@mui/icons-material/GroupAddOutlined';\r\nimport BallotOutlinedIcon from '@mui/icons-material/BallotOutlined';\r\nimport LibraryMusicOutlinedIcon from '@mui/icons-material/LibraryMusicOutlined';\r\nimport SettingsOutlinedIcon from '@mui/icons-material/SettingsOutlined';\r\nimport PeopleIcon from '@mui/icons-material/People';\r\nimport PhotoCameraOutlinedIcon from '@mui/icons-material/PhotoCameraOutlined';\r\nimport VideoCameraBackOutlinedIcon from '@mui/icons-material/VideoCameraBackOutlined';\r\nimport ChatIcon from '@mui/icons-material/Chat';\r\nimport useClasses from \"../../customHookCSS/useClasses\";\r\nimport {Divider, styled} from \"@mui/material\";\r\n\r\n\r\nconst styles = (theme: any) => ({\r\n    navLink: {\r\n        textDecoration: 'none', color: 'inherit'\r\n    }\r\n});\r\n\r\n\r\nexport default function NavBar() {\r\n    const classes = useClasses(styles);\r\n\r\n    const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n\r\n    const handleListItemClick = (\r\n        event: React.MouseEvent<HTMLDivElement, MouseEvent>,\r\n        index: number,\r\n    ) => {\r\n        setSelectedIndex(index);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <NavLink to=\"/\" className={classes.navLink}>\r\n                <ListItemButton\r\n                    selected={selectedIndex === 0}\r\n                    onClick={(event) => handleListItemClick(event, 0)}\r\n                >\r\n                    <StyledListItemIcon>\r\n                        <AccountCircleOutlinedIcon/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Profile\"/>\r\n                </ListItemButton>\r\n            </NavLink>\r\n            <NavLink to=\"/dialogs\" className={classes.navLink}>\r\n                <ListItemButton\r\n                    selected={selectedIndex === 1}\r\n                    onClick={(event) => handleListItemClick(event, 1)}\r\n                >\r\n                    <StyledListItemIcon>\r\n                        <ChatOutlinedIcon/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Messanger\"/>\r\n                </ListItemButton>\r\n            </NavLink>\r\n            <NavLink to=\"/users\" className={classes.navLink}>\r\n                <ListItemButton\r\n                    selected={selectedIndex === 2}\r\n                    onClick={(event) => handleListItemClick(event, 2)}\r\n                >\r\n                    <StyledListItemIcon>\r\n                        <GroupAddOutlinedIcon/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Users\"/>\r\n                </ListItemButton>\r\n            </NavLink>\r\n            <Divider/>\r\n            <NavLink to=\"/chat\" className={classes.navLink}>\r\n                <ListItemButton\r\n                    selected={selectedIndex === 9}\r\n                    onClick={(event) => handleListItemClick(event, 9)}\r\n                >\r\n                    <StyledListItemIcon>\r\n                        <ChatIcon/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Chat\"/>\r\n                </ListItemButton>\r\n            </NavLink>\r\n            <Divider/>\r\n            <NavLink to=\"/news\" className={classes.navLink}>\r\n                <ListItemButton\r\n                    selected={selectedIndex === 3}\r\n                    onClick={(event) => handleListItemClick(event, 3)}\r\n                >\r\n                    <StyledListItemIcon>\r\n                        <BallotOutlinedIcon/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"News\"/>\r\n                </ListItemButton>\r\n            </NavLink>\r\n            <NavLink to=\"/music\" className={classes.navLink}>\r\n                <ListItemButton\r\n                    selected={selectedIndex === 4}\r\n                    onClick={(event) => handleListItemClick(event, 4)}\r\n                >\r\n                    <StyledListItemIcon>\r\n                        <LibraryMusicOutlinedIcon/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Music\"/>\r\n                </ListItemButton>\r\n            </NavLink>\r\n            <NavLink to=\"/communities\" className={classes.navLink}>\r\n                <ListItemButton\r\n                    selected={selectedIndex === 5}\r\n                    onClick={(event) => handleListItemClick(event, 5)}\r\n                >\r\n                    <StyledListItemIcon>\r\n                        <PeopleIcon/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Communities\"/>\r\n                </ListItemButton>\r\n            </NavLink>\r\n            <NavLink to=\"/photos\" className={classes.navLink}>\r\n                <ListItemButton\r\n                    selected={selectedIndex === 6}\r\n                    onClick={(event) => handleListItemClick(event, 6)}\r\n                >\r\n                    <StyledListItemIcon>\r\n                        <PhotoCameraOutlinedIcon/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Photos\"/>\r\n                </ListItemButton>\r\n            </NavLink>\r\n            <NavLink to=\"/videos\" className={classes.navLink}>\r\n                <ListItemButton\r\n                    selected={selectedIndex === 7}\r\n                    onClick={(event) => handleListItemClick(event, 7)}\r\n                >\r\n                    <StyledListItemIcon>\r\n                        <VideoCameraBackOutlinedIcon/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Viedos\"/>\r\n                </ListItemButton>\r\n            </NavLink>\r\n            <NavLink to=\"/settings\" className={classes.navLink}>\r\n                <ListItemButton\r\n                    selected={selectedIndex === 8}\r\n                    onClick={(event) => handleListItemClick(event, 8)}\r\n                >\r\n                    <StyledListItemIcon>\r\n                        <SettingsOutlinedIcon/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Settings\"/>\r\n                </ListItemButton>\r\n            </NavLink>\r\n        </>\r\n    );\r\n}\r\n\r\nconst StyledListItemIcon = styled(ListItemIcon)`\r\n  min-width: 40px;\r\n  color: #90caf9;\r\n`","import React from 'react';\r\nimport {Box, CircularProgress} from \"@mui/material\";\r\n\r\nfunction Preloader() {\r\n\r\n    return (\r\n        <Box sx={{position: 'absolute', top: '50%', left:'50%'}}>\r\n            <CircularProgress/>\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default Preloader;\r\n","import React from 'react';\nimport {Grid, Paper} from \"@mui/material\";\nimport Preloader from \"../../../common/Preloader/Preloader\";\n\n\nfunction Music() {\n    return (\n        <Grid item xs={10}>\n            <Paper elevation={2}>\n                <div style={{width: '100%', height: '85vh'}}>\n                    Music in coming soon\n                    <Preloader/>\n                </div>\n            </Paper>\n        </Grid>\n    );\n}\n\nexport default Music;\n","import React from 'react';\nimport {Button, Grid, Paper, TextField} from \"@mui/material\";\nimport {styled} from '@mui/material/styles';\n\nimport {green} from \"@mui/material/colors\";\nimport useClasses from \"../../../customHookCSS/useClasses\";\n\nconst styles = (theme: any) => ({\n    paper: {\n        marginTop: theme.spacing[8],\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    root: {\n        backgroundColor: 'red',\n        color: 'black',\n    },\n    button: {},\n\n});\n\nconst Root = styled('div')(({theme}) => ({\n    padding: theme.spacing(1),\n    [theme.breakpoints.down('md')]: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    [theme.breakpoints.up('md')]: {\n        backgroundColor: theme.palette.primary.main,\n    },\n    [theme.breakpoints.up('lg')]: {\n        backgroundColor: green[500],\n    },\n\n}));\n\n\nfunction News() {\n\n    const classes = useClasses(styles);\n    return (\n        <Grid item xs={10}>\n            <Paper elevation={2}>\n                <Root style={{width: '100%', height: '85vh'}}>\n                    <Grid container className={classes.root} item direction={\"row\"} flexWrap={\"nowrap\"}>\n                        <TextField/>\n                        <Button className={classes.button} variant={\"contained\"} color={\"primary\"}>Add</Button>\n                    </Grid>\n                </Root>\n            </Paper>\n        </Grid>\n    );\n}\n\nexport default News;\n","import React from 'react';\nimport s from './Settings.module.css';\nimport SettingsOutlinedIcon from '@mui/icons-material/SettingsOutlined';\nimport CallMadeOutlinedIcon from '@mui/icons-material/CallMadeOutlined';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport NotificationsActiveOutlinedIcon from '@mui/icons-material/NotificationsActiveOutlined';\nimport AutorenewOutlinedIcon from '@mui/icons-material/AutorenewOutlined';\nimport SecurityOutlinedIcon from '@mui/icons-material/SecurityOutlined';\nimport FingerprintOutlinedIcon from '@mui/icons-material/FingerprintOutlined';\nimport BlockOutlinedIcon from '@mui/icons-material/BlockOutlined';\nimport HighlightOffOutlinedIcon from '@mui/icons-material/HighlightOffOutlined';\nimport {Grid, Paper} from \"@mui/material\";\n\n\nfunction Settings() {\n    return (\n        <Grid item xs={10}>\n            <Paper elevation={4}>\n                <div className={s.settingsWrap}>\n                    <div className={s.settingListMenu}>\n                        <a href=\"#/\"> <SettingsOutlinedIcon style={{paddingRight: '10px'}}/> Account Setting</a>\n                        <a href=\"#/\"> <CallMadeOutlinedIcon style={{paddingRight: '10px'}}/> Status</a>\n                        <a href=\"#/\"> <LockOutlinedIcon style={{paddingRight: '10px'}}/> Change Password</a>\n                        <a href=\"#/\"> <NotificationsActiveOutlinedIcon style={{paddingRight: '10px'}}/> Notifications</a>\n                        <a href=\"#/\"> <AutorenewOutlinedIcon style={{paddingRight: '10px'}}/> Requests</a>\n                        <a href=\"#/\"> <SecurityOutlinedIcon style={{paddingRight: '10px'}}/>Security and Login</a>\n                        <a href=\"#/\"> <FingerprintOutlinedIcon style={{paddingRight: '10px'}}/>Privacy</a>\n                        <a href=\"#/\"> <BlockOutlinedIcon style={{paddingRight: '10px'}}/>Blocking</a>\n                        <a href=\"#/\"> <HighlightOffOutlinedIcon style={{paddingRight: '10px'}}/>Deactivate Account</a>\n                    </div>\n                    <div className={s.settingMenu}>Item Settings</div>\n                </div>\n            </Paper>\n        </Grid>\n    );\n}\n\nexport default Settings;\n","import React, {useState} from 'react';\r\nimport {\r\n    Divider,\r\n    Grid, IconButton,\r\n    List,\r\n    ListItem,\r\n    ListItemButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    ListProps, Paper,\r\n    styled\r\n} from \"@mui/material\";\r\nimport ForumOutlinedIcon from '@mui/icons-material/ForumOutlined';\r\nimport MarkEmailUnreadOutlinedIcon from '@mui/icons-material/MarkEmailUnreadOutlined';\r\nimport {Delete} from \"@mui/icons-material\";\r\nimport {NavLink} from 'react-router-dom';\r\nimport useClasses from \"../../../customHookCSS/useClasses\";\r\n\r\nconst CustomListItem = styled(ListItem)<ListProps>(({theme}) => ({\r\n    '& .MuiListItemSecondaryAction-root': {\r\n        visibility: 'hidden'\r\n    },\r\n    '&:hover': {\r\n        '.MuiTypography-root': {color: theme.palette.primary.main},\r\n        '.MuiListItemSecondaryAction-root': {\r\n            visibility: 'visible'\r\n        }\r\n    }\r\n}))\r\nconst styles = (theme: any) => ({\r\n    navLink: {\r\n        textDecoration: 'none', color: 'inherit'\r\n    },\r\n    rightDialogMenu:{\r\n        [theme.breakpoints.down(\"md\")]: {\r\n            display: 'none'\r\n        },\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'block',\r\n            width:'300px'\r\n        }\r\n    }\r\n});\r\n\r\n\r\nfunction RightDialogMenu() {\r\n\r\n    const classes = useClasses(styles);\r\n\r\n    const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n    const [open, setClose] = useState(true);\r\n\r\n    const handleListItemClick = (event: React.MouseEvent<HTMLDivElement, MouseEvent>, index: number,) => {\r\n        setSelectedIndex(index);\r\n    };\r\n\r\n\r\n    return (\r\n        <Grid item lg={3} className={classes.rightDialogMenu}>\r\n            <Paper elevation={4}>\r\n                <Grid container item direction={\"column\"} wrap={\"nowrap\"}>\r\n                    <List>\r\n                        <NavLink to=\"/dialogs\" className={classes.navLink}>\r\n                            <ListItem disablePadding>\r\n                                <ListItemButton selected={selectedIndex === 0}\r\n                                                onClick={(event) => handleListItemClick(event, 0)}>\r\n                                    <ListItemIcon>\r\n                                        <ForumOutlinedIcon color={\"primary\"}/>\r\n                                    </ListItemIcon>\r\n                                    <ListItemText primary=\"All chats\"/>\r\n                                </ListItemButton>\r\n                            </ListItem>\r\n                        </NavLink>\r\n                        <ListItem disablePadding>\r\n                            <ListItemButton selected={selectedIndex === 1}\r\n                                            onClick={(event) => handleListItemClick(event, 1)}>\r\n                                <ListItemIcon>\r\n                                    <MarkEmailUnreadOutlinedIcon color={\"primary\"}/>\r\n                                </ListItemIcon>\r\n                                <ListItemText primary=\"Unread\"/>\r\n                            </ListItemButton>\r\n                        </ListItem>\r\n                        {open && <NavLink exact to=\"/dialogs/chat\" className={classes.navLink}>\r\n                            <Divider/>\r\n                            <CustomListItem disablePadding\r\n                                            secondaryAction={\r\n                                                <IconButton aria-label=\"delete\" edge={\"end\"}\r\n                                                            onClick={() => setClose(!open)}>\r\n                                                    <Delete color={\"secondary\"} fontSize={\"small\"}/>\r\n                                                </IconButton>}>\r\n\r\n\r\n                                <ListItemButton selected={selectedIndex === 2}\r\n                                                onClick={(event) => handleListItemClick(event, 2)}>\r\n                                    <ListItemText primary=\"Tony Stark\"/>\r\n                                </ListItemButton>\r\n                            </CustomListItem>\r\n                        </NavLink>}\r\n\r\n                    </List>\r\n\r\n                </Grid>\r\n            </Paper>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default RightDialogMenu","import React from 'react';\nimport {Grid, Paper} from \"@mui/material\";\n\n\nfunction Communities() {\n    return (\n        <Grid item xs={10}>\n            <Paper elevation={2}>\n                <div style={{width: '100%', height: '85vh'}}>Communities in coming soon</div>\n            </Paper>\n        </Grid>\n\n    );\n}\n\nexport default Communities;\n","import React from 'react';\nimport {Grid, Paper} from \"@mui/material\";\n\n\nfunction Photos() {\n    return (\n        <Grid item xs={10}>\n            <Paper elevation={2}>\n                <div style={{width: '100%', height: '85vh'}}>Photos in coming soon</div>\n            </Paper>\n        </Grid>\n    );\n}\n\nexport default Photos;\n","import React from 'react';\nimport {Grid, Paper} from \"@mui/material\";\n\n\nfunction Videos() {\n    return (\n        <Grid item xs={10}>\n            <Paper elevation={2}>\n                <div style={{width: '100%', height: '85vh'}}>Videos in coming soon</div>\n            </Paper>\n        </Grid>\n    );\n}\n\nexport default Videos;\n","import {v1} from \"uuid\";\r\n\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\"\r\nconst DELETE_DIALOG = \"DELETE-DIALOG\"\r\nconst DELETE_MESSAGES = \"DELETE-MESSAGES\"\r\n\r\nexport type MessageType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport type DialogType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nexport type DialogPageType = {\r\n    dialogs: Array<DialogType>\r\n    messages: Array<MessageType>\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nconst initialState: DialogPageType = {\r\n    dialogs: [\r\n        {id: v1(), name: 'Alex'},\r\n        {id: v1(), name: 'John'},\r\n        {id: v1(), name: 'Matthew'},\r\n        {id: v1(), name: 'Larisa Dolina'},\r\n        {id: v1(), name: 'Larisa Dolina1'},\r\n        {id: v1(), name: 'Larisa Dolina2'},\r\n        {id: v1(), name: 'Larisa Dolina3'},\r\n        {id: v1(), name: 'Larisa Dolina4'},\r\n        {id: v1(), name: 'Larisa Dolina5'},\r\n        {id: v1(), name: 'Larisa Dolina5'},\r\n        {id: v1(), name: 'Larisa Dolina5'},\r\n        {id: v1(), name: 'Larisa Dolina5'},\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {id: v1(), message: 'hi'},\r\n        {id: v1(), message: 'how is your it-kamasutra'},\r\n        {id: v1(), message: 'yo'},\r\n        {id: v1(), message: 'yo'},\r\n        {\r\n            id: v1(),\r\n            message: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ea illum, molestias quibusdam rem repellat sapiente? Amet consequatur corporis cum, et ipsam magni, nemo obcaecati quos saepe, sed sint tempora totam!'\r\n        },\r\n    ] as Array<MessageType>\r\n}\r\n\r\nexport const dialogsReducer = (state: InitialStateType = initialState, action: ActionsType) : InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SEND-MESSAGE\": {\r\n            let newMess = {\r\n                id: v1(),\r\n                message: action.newMessText,\r\n            }\r\n            return {...state, messages:[...state.messages, newMess]}\r\n        }\r\n        case \"DELETE-DIALOG\":{\r\n            return {...state, dialogs:[...state.dialogs.filter(d => d.id !== action.dialogID)]}\r\n        }\r\n        case \"DELETE-MESSAGES\":{\r\n            return {...state, messages: [...state.messages.filter(m => !action.selectedMessages.includes(m.id))]}\r\n        }\r\n        default :\r\n            return state\r\n    }\r\n}\r\n\r\ntype ActionsType =  SendMessageActionType | DeleteMessagesActionType |  DeleteDialogActionType\r\n\r\nexport type SendMessageActionType = ReturnType<typeof sendMessageCreator>\r\nexport const sendMessageCreator = (newMessText: string)=> {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        newMessText\r\n    } as const\r\n}\r\n\r\nexport type DeleteMessagesActionType = ReturnType<typeof DeleteMessagesCreator>\r\nexport const DeleteMessagesCreator= (selectedMessages: string[]) => {\r\n    return {\r\n        type: DELETE_MESSAGES,\r\n        selectedMessages\r\n    } as const\r\n}\r\n\r\n\r\nexport type DeleteDialogActionType = ReturnType<typeof DeleteDialogCreator>\r\nexport const DeleteDialogCreator= (dialogID: string) => {\r\n    return {\r\n        type: DELETE_DIALOG,\r\n        dialogID: dialogID\r\n    } as const\r\n}","export default \"data:image/jpeg;base64,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\"","import React from 'react';\r\nimport AccessTimeOutlined from '@mui/icons-material/AccessTimeOutlined';\r\nimport FavoriteBorderOutlinedIcon from '@mui/icons-material/FavoriteBorderOutlined';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport {Avatar, Grid, IconButton} from \"@mui/material\";\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport useClasses from \"../../../../../customHookCSS/useClasses\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport { PostType } from '../../../../../redux/profile-reducer';\r\nimport {PhotosType} from \"../../../../../redux/users-reducer\";\r\nimport defaultUserAvatar from \"../../../../../assets/images/userAvatar.jpg\";\r\n\r\n\r\nfunction checkOneDigitNumbers(i: any) {\r\n    if (i < 10) {\r\n        i = \"0\" + i;\r\n    }\r\n    return i;\r\n}\r\nconst monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\r\n    \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"\r\n];\r\nexport const currentTime = () => {\r\n    let today = new Date();\r\n    let h = today.getHours();\r\n    let m = today.getMinutes();\r\n    let day = today.getDate()\r\n    let month = monthNames[today.getMonth()]\r\n\r\n    // add a zero in front of numbers<10\r\n    m = checkOneDigitNumbers(m);\r\n    h = checkOneDigitNumbers(h);\r\n\r\n    return `${day} ${month} ${h}:${m}`\r\n}\r\n\r\nconst styles = (theme: any) => ({\r\n    userName: {\r\n        padding: 0, margin: '15px 0 0 15px'\r\n    },\r\n    postTime: {\r\n        margin: 0,\r\n        display: 'flex',\r\n        fontSize: '14px',\r\n        color: '#b2b2b2',\r\n        alignItems: 'center'\r\n    },\r\n\r\n\r\n});\r\nconst RootPostContainer = styled(Grid)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: nowrap;\r\n  padding: 20px 20px 20px 20px;\r\n  align-items: stretch;\r\n  :hover {\r\n    & .MuiIconButton-root {\r\n      visibility: visible;\r\n    }\r\n  }\r\n`;\r\n\r\ntype PostPropsType = {\r\n    deletePost: (postId: string) => void\r\n    photos: PhotosType\r\n    userName: string\r\n}\r\n\r\nconst Post = React.memo((props: PostType & PostPropsType) => {\r\n\r\n    const classes = useClasses(styles);\r\n\r\n    const removePost = () => props.deletePost(props.id)\r\n\r\n    return (\r\n        <RootPostContainer container item spacing={2}\r\n               >\r\n            <Grid container item spacing={2} direction={\"row\"} alignItems={\"flex-start\"}>\r\n                <Grid item>\r\n                    <Avatar\r\n                        alt=\"Remy Sharp\"\r\n                        src={props.photos.large\r\n                            ? props.photos.large\r\n                            : defaultUserAvatar}\r\n                        sx={{width: 50, height: 50}}\r\n                    />\r\n                </Grid>\r\n                <Grid item>\r\n                    <Grid container item spacing={2} direction={\"column\"}>\r\n                        <Grid item style={{padding: 0, margin: 0}}>\r\n                            <h3 className={classes.userName}>{props.userName}</h3>\r\n                        </Grid>\r\n                        <Grid item className={classes.postTime} style={{paddingTop: 0}}>\r\n                            <AccessTimeOutlined style={{width: '20px', paddingRight: '3px'}}/>{currentTime()}\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item style={{marginLeft: 'auto', visibility:'hidden'}} >\r\n                    <IconButton style={{padding:0}}>\r\n                        <ClearIcon onClick={removePost} color={\"secondary\"} style={{marginLeft: 'auto'}}/>\r\n                    </IconButton>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item style={{wordWrap: 'break-word', paddingTop: '0'}}>\r\n                <p style={{margin: 0}}>{props.message}</p>\r\n            </Grid>\r\n            <Grid item style={{padding: 0, marginLeft: 'auto', display: 'flex'}}>\r\n                {props.likeCount}\r\n                {props.likeCount === 0 ?\r\n                    <IconButton size={\"small\"} style={{padding: '0 0 0 5px'}}>\r\n                        <FavoriteBorderOutlinedIcon style={{color: 'red', position: 'relative', right: 0}}/>\r\n                    </IconButton>\r\n                    : <IconButton size={\"small\"} style={{padding: '0 0 0 5px'}}>\r\n                        <FavoriteIcon style={{color: 'red', position: 'relative', right: 0}}/>\r\n                    </IconButton>}\r\n            </Grid>\r\n        </RootPostContainer>\r\n    );\r\n})\r\n\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport {currentTime} from \"../../Profile/RightColumn/Posts/Post/Post\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {Grid} from \"@mui/material\";\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport {MessageType} from \"../../../redux/dialogs-reducer\";\r\n\r\n\r\n\r\n\r\ntype SentMessagePropsType = {\r\n    editMode: boolean\r\n    setSelectedMessages: (messID: string) => void\r\n}\r\n\r\nfunction SentMessage(props: MessageType & SentMessagePropsType) {\r\n\r\n    const SentMessageContainer = styled(Grid)`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n  padding: 10px 20px;\r\n  align-items: flex-end;\r\n\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 25px;\r\n    margin-left: 13px;\r\n  }\r\n;\r\n\r\n  p {\r\n    border: 1px solid #3f51b5;\r\n    border: ${props.editMode ? '1px solid #f50057' : '1px solid #3f51b5'};\r\n    color: #686868;\r\n    width: auto;\r\n    padding: 10px 15px 0 15px;\r\n    border-radius: 15px;\r\n    word-break: break-all;\r\n    margin-left: 10px;\r\n  }\r\n;\r\n\r\n  div {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: flex-end;\r\n    font-size: 14px;\r\n    padding-bottom: 3px;\r\n  }\r\n;\r\n\r\n  & svg {\r\n    visibility: ${props.editMode ? 'visible' : 'hidden'} ;\r\n    margin-left: 10px;\r\n    margin-right: auto;\r\n    position: relative;\r\n    bottom: 50%;\r\n  }\r\n;\r\n  :hover {\r\n    cursor: pointer;\r\n    & svg {\r\n      opacity: ${props.editMode ? '1' : '0.5'} ;\r\n      visibility: visible;\r\n      margin-left: 10px;\r\n      margin-right: auto;\r\n    }\r\n  ;;\r\n  }\r\n;\r\n`;\r\n\r\n    const selectMessage = () => {\r\n        props.setSelectedMessages(props.id)\r\n    }\r\n\r\n    return (\r\n        <SentMessageContainer key={props.id}\r\n                              onClick={selectMessage}>\r\n            <CheckCircleIcon color={\"primary\"}/>\r\n            <p >{props.message}\r\n                <div>{currentTime()}</div>\r\n            </p>\r\n            <img src=\"https://www.seoclerk.com/pics/319222-1IvI0s1421931178.png\" alt=\"userAvatar\"/>\r\n        </SentMessageContainer>\r\n    );\r\n}\r\n\r\nexport default SentMessage;\r\n\r\n","import React from 'react';\r\nimport {currentTime} from \"../../Profile/RightColumn/Posts/Post/Post\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {Grid} from \"@mui/material\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\n\r\n\r\nconst ReceivedMessageContainer = styled(Grid)`\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 10px 20px;\r\n  align-items: flex-end;\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 25px;\r\n    margin-right: 13px;\r\n  };\r\n  p{\r\n    border: 1px solid #3f51b5;\r\n    margin-right: 10px;\r\n    color: #686868;\r\n    width: auto;\r\n    padding: 10px 15px 0 15px;\r\n    border-radius: 15px;\r\n  };\r\n  div{\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: flex-end;\r\n    font-size: 14px;\r\n    padding-bottom: 3px;\r\n  };\r\n  & svg {\r\n    visibility: hidden;\r\n    margin-right: 10px;\r\n    margin-left: auto;\r\n    position: relative;\r\n    bottom: 50%;\r\n  } ;\r\n  :hover {\r\n    cursor: pointer;\r\n    & svg {\r\n      visibility: visible;\r\n      margin-right: 10px;\r\n      margin-left: auto;\r\n      opacity: 0.6;\r\n    };\r\n  } ;\r\n,\r\n`;\r\n\r\n\r\nfunction ReceivedMessage() {\r\n\r\n    return (\r\n        <ReceivedMessageContainer >\r\n            <img src=\"https://avatarfiles.alphacoders.com/169/169302.jpg\" alt=\"userAvatar\"/>\r\n            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ea illum, molestias quibusdam rem repellat sapiente? Amet consequatur corporis cum, et ipsam magni, nemo obcaecati quos saepe, sed sint tempora totam!\r\n                <div>{currentTime()}</div>\r\n            </p>\r\n            <CheckCircleIcon color={\"primary\"}/>\r\n        </ReceivedMessageContainer>\r\n    );\r\n}\r\n\r\nexport default ReceivedMessage;","import React from 'react';\r\nimport {\r\n    Avatar, Button,\r\n    Grid,\r\n    IconButton,\r\n    Typography\r\n} from \"@mui/material\";\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\r\nimport ArrowBackOutlinedIcon from \"@mui/icons-material/ArrowBackOutlined\";\r\nimport CallIcon from \"@mui/icons-material/Call\";\r\nimport ClearIcon from \"@mui/icons-material/Clear\";\r\n\r\ntype ChatHeaderPropsType = {\r\n    editMode: boolean\r\n    selectedMessageCount: number\r\n    setEditMode: () => void\r\n    deleteMessages: () => void\r\n}\r\n\r\nfunction ChatHeader(props: ChatHeaderPropsType) {\r\n\r\n    let history = useHistory()\r\n\r\n    return (\r\n        <Grid container item direction={\"row\"} justifyContent={\"space-between\"} alignItems={\"center\"}\r\n              flexWrap={'nowrap'}\r\n              style={{paddingLeft: '15px', paddingRight: '15px', paddingBottom: '5px', paddingTop: '5px'}}>\r\n            {props.editMode\r\n                ? <Grid item display={\"flex\"} flexDirection={\"row\"} alignItems={\"center\"} style={{padding:'2px'}}>\r\n                    <Typography variant={\"subtitle2\"}><b>{props.selectedMessageCount} messages</b></Typography>\r\n                    <IconButton>\r\n                        <ClearIcon onClick={() => props.setEditMode()} fontSize={\"small\"} color={\"secondary\"}/>\r\n                    </IconButton>\r\n                </Grid>\r\n                : <> <Grid item>\r\n                    <Button variant={\"text\"} startIcon={<ArrowBackOutlinedIcon/>} onClick={() => {\r\n                        history.goBack()\r\n                    }}>back</Button>\r\n                </Grid>\r\n                    <Grid item>\r\n                        <Typography variant={\"h6\"}>Tony Stark</Typography>\r\n                    </Grid>\r\n                </>}\r\n\r\n            <Grid item>\r\n                {props.editMode ? <Grid item>\r\n                        <Button variant={\"contained\"} color={\"secondary\"} onClick={props.deleteMessages} size={\"small\"}>Delete</Button>\r\n                    </Grid> :\r\n                    <Grid container item direction={\"row\"} justifyContent={\"space-between\"} alignItems={\"center\"}>\r\n                        <Grid item>\r\n                            <IconButton aria-label=\"delete\" color=\"primary\">\r\n                                <CallIcon/>\r\n                            </IconButton>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <IconButton aria-label=\"delete\" color=\"primary\">\r\n                                <MoreHorizIcon/>\r\n                            </IconButton>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Avatar\r\n                                alt=\"Remy Sharp\"\r\n                                src=\"https://www.seoclerk.com/pics/319222-1IvI0s1421931178.png\"\r\n                                sx={{width: 33, height: 33}}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>}\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default ChatHeader\r\n\r\n","export const requiredField = (value: any) => {\r\n    if(value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: any) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\n","import React, {useEffect, useRef, useState} from 'react';\r\nimport SentMessage from \"./Messages/SentMessage\";\r\nimport {Alert, Button, Divider, Grid, Paper, Snackbar, TextField} from \"@mui/material\";\r\nimport {Send} from \"@mui/icons-material\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {DialogsPropsType} from \"./ChatContainer\";\r\nimport ReceivedMessage from \"./Messages/ReceivedMessage\";\r\nimport ChatHeader from \"./Headers/ChatHeader\";\r\nimport  {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\n\r\n\r\nfunction Chat(props: DialogsPropsType) {\r\n\r\n    const messageArea = useRef<HTMLDivElement>(null);\r\n    const messagesEndRef = useRef<HTMLDivElement>(null)\r\n\r\n    const [openAlert, setOpenAlert] = useState(false)\r\n    const [selectedMessages, setSelectedMessages] = useState<string[]>([])\r\n\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current!.scrollIntoView({behavior: \"auto\"})\r\n    }\r\n    useEffect(scrollToBottom, [props.dialogsPage.messages]);\r\n\r\n\r\n\r\n\r\n    // const onKeyPressHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    //     if (e.charCode === 13 && props.dialogsPage.newMessText.trim() !== '') {\r\n    //         e.preventDefault()\r\n    //         props.sendMessage(props.dialogsPage.newMessText)\r\n    //     } else if (props.dialogsPage.newMessText.trim() === '' && e.charCode === 13) {\r\n    //         e.preventDefault()\r\n    //     }\r\n    // }\r\n\r\n    //todo add types\r\n    const addNewMessage = (values: any) => {\r\n        if(values.newMessageBody){\r\n            props.sendMessage(values.newMessageBody)\r\n            values.newMessageBody = ''\r\n        } else return\r\n    }\r\n\r\n    const handleSelectMessage = (messID: string) => {\r\n        if (selectedMessages.includes(messID)) {\r\n            setSelectedMessages(selectedMessages.filter(m => m !== messID));\r\n        } else {\r\n            setSelectedMessages([...selectedMessages, messID]);\r\n        }\r\n    }\r\n    const deleteMessages = () => {\r\n        props.deleteMessages(props.dialogsPage.messages.map(m => m.id).filter(x => selectedMessages.includes(x)))\r\n        setOpenAlert(true)\r\n        setSelectedMessages([])\r\n    }\r\n    const handlerEditMode = () => {\r\n        setSelectedMessages([]);\r\n    }\r\n\r\n\r\n    let messagesElements = props.dialogsPage.messages\r\n        .map(m => <SentMessage key={m.id}\r\n                               message={m.message}\r\n                               id={m.id}\r\n                               editMode={selectedMessages.includes(m.id)}\r\n                               setSelectedMessages={handleSelectMessage}\r\n            />\r\n        )\r\n\r\n\r\n    return (\r\n        <Grid item xs={12} md={12} lg={9}>\r\n            <Paper elevation={2}>\r\n                <RootContainer container item>\r\n                    <ChatHeader\r\n                        editMode={!!selectedMessages.length}\r\n                        setEditMode={handlerEditMode}\r\n                        selectedMessageCount={selectedMessages.length}\r\n                        deleteMessages={deleteMessages}\r\n                    />\r\n                    <Divider/>\r\n                    <MessagesArea ref={messageArea}>\r\n                        <ReceivedMessage/>\r\n                        <ReceivedMessage/>\r\n                        {messagesElements}\r\n                        <div ref={messagesEndRef}/>\r\n                    </MessagesArea>\r\n                    <Divider/>\r\n                    <InputArea item>\r\n                        <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n                    </InputArea>\r\n                    <Snackbar open={openAlert} autoHideDuration={6000}\r\n                              style={{position: 'absolute', bottom: 10, left: 10}} onClose={() => setOpenAlert(false)}>\r\n                        <Alert severity=\"success\">\r\n                            Messages was deleted!\r\n                        </Alert>\r\n                    </Snackbar>\r\n                </RootContainer>\r\n            </Paper>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default Chat;\r\n\r\n\r\nconst MessagesArea = styled('div')(({theme}) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: '75vh',\r\n\r\n    overflow: 'auto',\r\n    overflowY: 'visible',\r\n    '&::-webkit-scrollbar': {\r\n        width: '5px'\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n        background: '#3f51b5',\r\n        borderRadius: '5px'\r\n    },\r\n    'h3,p': {\r\n        margin: 0,\r\n        padding: '10px 15px 0 15px'\r\n    }\r\n}));\r\nconst RootContainer = styled(Grid)({\r\n    height: '90vh ',\r\n    flexDirection: 'column',\r\n    flexWrap: 'nowrap'\r\n});\r\nconst InputArea = styled(Grid)({\r\n    padding: '15px 15px 15px 15px',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    flexWrap: 'nowrap',\r\n});\r\n\r\n\r\n//@ts-ignore\r\nconst renderTextField = ({label, input, meta: {touched, invalid, error}, ...custom}) => (\r\n    <TextField\r\n        label={'Write a message'}\r\n        error={touched && invalid}\r\n        helperText={touched && error}\r\n        fullWidth\r\n        multiline\r\n        autoFocus\r\n        maxRows={4}\r\n        size={\"small\"}\r\n        autoComplete={'off'}\r\n        id=\"outlined-basic\"\r\n        variant=\"outlined\"\r\n        style={{marginRight: '15px'}}\r\n        {...input}\r\n        {...custom}\r\n    />\r\n)\r\n\r\nlet maxLength100 = maxLengthCreator(100)\r\nconst AddMessageForm = (props: any) => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit} style={{display:'flex', flexDirection:'row', width:'100%'}}>\r\n            <Field component={renderTextField}\r\n                   name={'newMessageBody'}\r\n                   validate={[requiredField, maxLength100]}\r\n            />\r\n            <Button variant=\"contained\"\r\n                    type={\"submit\"}\r\n                    endIcon={<Send/>}>\r\n                Send\r\n            </Button>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm)","import {\r\n    DeleteMessagesCreator,\r\n    DialogPageType,\r\n    sendMessageCreator,\r\n} from \"../../redux/dialogs-reducer\";\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\nimport { Dispatch } from 'redux';\r\nimport Chat from \"./Chat\";\r\n\r\ntype mapStateToPropsType = {\r\n    dialogsPage: DialogPageType\r\n}\r\n\r\ntype mapDispatchPropsType = {\r\n    sendMessage: (newMessText: string) => void\r\n    deleteMessages:(selectedMess: string[]) => void\r\n}\r\n\r\nexport type  DialogsPropsType = mapStateToPropsType & mapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType) : mapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogPage\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch):mapDispatchPropsType => {\r\n    return {\r\n        sendMessage: (newMessText: string) => {\r\n           dispatch(sendMessageCreator(newMessText))\r\n        },\r\n        deleteMessages: (selectedMess: string[]) => {\r\n            dispatch(DeleteMessagesCreator(selectedMess))\r\n        }\r\n    }\r\n}\r\n\r\nconst ChatContainer = connect(mapStateToProps, mapDispatchToProps)(Chat)\r\n\r\nexport default ChatContainer;","import React, {useState} from 'react';\r\nimport {\r\n    Grid,\r\n    IconButton,\r\n} from \"@mui/material\";\r\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\r\nimport {alpha, styled} from \"@mui/material/styles\";\r\nimport InputBase from \"@mui/material/InputBase\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport AddIcCallIcon from \"@mui/icons-material/AddIcCall\";\r\nimport EditOutlinedIcon from '@mui/icons-material/EditOutlined';\r\n\r\n\r\nconst Search = styled('div')(({theme}) => ({\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n        backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing(0),\r\n        width: 'auto',\r\n    },\r\n}));\r\nconst SearchIconWrapper = styled('div')(({theme}) => ({\r\n    padding: theme.spacing(0, 1),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n}));\r\nconst StyledInputBase = styled(InputBase)(({theme}) => ({\r\n\r\n    '& .MuiInputBase-input': {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(3)})`,\r\n        width:'100%'\r\n    },\r\n}));\r\n\r\n\r\ntype DialogsHeaderPropsType = {\r\n    setSearchDialogName: (name: string) => void\r\n}\r\n\r\nfunction DialogsHeader(props: DialogsHeaderPropsType) {\r\n\r\n    const changeEventHandler = (e: any) => {\r\n        props.setSearchDialogName(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <Grid container item direction={\"row\"} justifyContent={\"space-between\"} alignItems={\"center\"} flexWrap={'nowrap'}\r\n              style={{padding:'10px 15px 10px 15px'}}>\r\n            <Grid item flexWrap={\"nowrap\"} boxSizing={\"border-box\"} xs={12}>\r\n                <Search >\r\n                    <SearchIconWrapper>\r\n                        <SearchIcon color={\"primary\"}/>\r\n                    </SearchIconWrapper>\r\n                    <StyledInputBase\r\n                        onChange={(e) => changeEventHandler(e)}\r\n                        fullWidth\r\n                        placeholder=\"Search…\"\r\n                        inputProps={{'aria-label': 'search'}}\r\n                    />\r\n                </Search>\r\n            </Grid>\r\n            <Grid item>\r\n                <Grid container item direction={\"row\"} justifyContent={\"space-between\"} flexWrap={'nowrap'} alignItems={\"center\"}>\r\n                    <Grid item>\r\n                        <IconButton size=\"small\" aria-label=\"show 4 new mails\" color=\"inherit\">\r\n                            <AddIcCallIcon color={\"primary\"}/>\r\n                        </IconButton>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            aria-label=\"show 17 new notifications\"\r\n                            color=\"inherit\"\r\n                        >\r\n                            <EditOutlinedIcon color={\"primary\"}/>\r\n\r\n                        </IconButton>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            edge=\"end\"\r\n                            aria-label=\"account of current user\"\r\n                            aria-haspopup=\"true\"\r\n                            color=\"inherit\"\r\n                        >\r\n                            <MoreHorizIcon color={\"primary\"}/>\r\n                        </IconButton>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n\r\n    )\r\n}\r\n\r\nexport default DialogsHeader","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport { styled } from '@mui/material/styles';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport Typography from '@mui/material/Typography';\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\r\n\r\nconst BootstrapDialog = styled(Dialog)(({ theme }) => ({\r\n    '& .MuiDialogContent-root': {\r\n        padding: theme.spacing(2),\r\n    },\r\n    '& .MuiDialogActions-root': {\r\n        padding: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nexport interface DialogTitleProps {\r\n    id: string;\r\n    children?: React.ReactNode;\r\n    onClose: () => void;\r\n}\r\n\r\nconst BootstrapDialogTitle = (props: DialogTitleProps) => {\r\n    const { children, onClose, ...other } = props;\r\n\r\n    return (\r\n        <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\r\n            {children}\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    onClick={onClose}\r\n                    sx={{\r\n                        position: 'absolute',\r\n                        right: 8,\r\n                        top: 8,\r\n                        color: (theme) => theme.palette.grey[500],\r\n                    }}\r\n                >\r\n                    <CloseIcon />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n};\r\n\r\ntype CustomizedDialogsAlertPropsType = {\r\n    dialogID: string\r\n    deleteDialog: (dialogID: string) => void\r\n}\r\n\r\nexport default function CustomizedDialogsAlert(props: CustomizedDialogsAlertPropsType) {\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const removeDialog = () => {props.deleteDialog(props.dialogID)}\r\n\r\n    return (\r\n        <div>\r\n            <IconButton onClick={handleClickOpen} edge=\"end\"  color={\"secondary\"}>\r\n                <DeleteForeverIcon/>\r\n            </IconButton>\r\n            <BootstrapDialog\r\n                onClose={handleClose}\r\n                aria-labelledby=\"customized-dialog-title\"\r\n                open={open}\r\n            >\r\n                <BootstrapDialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n                    Delete all messages\r\n                </BootstrapDialogTitle>\r\n                <DialogContent dividers>\r\n                    <Typography gutterBottom>\r\n                        Are you sure you want to <b>delete your entire message history</b> with this user?\r\n                    </Typography>\r\n                    <Typography gutterBottom>\r\n                        This can't be undone.\r\n                    </Typography>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button autoFocus onClick={handleClose}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button variant={\"outlined\"} color={\"secondary\"} onClick={removeDialog}>\r\n                        Delete\r\n                    </Button>\r\n                </DialogActions>\r\n            </BootstrapDialog>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {\r\n    Avatar,\r\n    Divider,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemText,\r\n    ListProps,\r\n    styled,\r\n    Typography\r\n} from \"@mui/material\";\r\nimport {currentTime} from \"../../Profile/RightColumn/Posts/Post/Post\";\r\nimport CustomizedDialogsAlert from \"../../../common/Preloader/DialogsAlert/CustomizedDialogsAlert\";\r\nimport {DialogType} from \"../../../redux/dialogs-reducer\";\r\n\r\ntype UserDialogElementPropsType = {\r\n    deleteDialog: (dialogID: string) => void\r\n}\r\n\r\nconst CustomListItem = styled(ListItem)<ListProps>(({theme}) => ({\r\n    '& .MuiListItemSecondaryAction-root': {\r\n        visibility: 'hidden'\r\n    },\r\n    '&:hover': {\r\n        '.MuiListItemSecondaryAction-root': {\r\n            visibility: 'visible'\r\n        }\r\n    }\r\n}))\r\n\r\nfunction UserDialogElement(props: DialogType & UserDialogElementPropsType) {\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n        <CustomListItem\r\n            secondaryAction={\r\n                    <CustomizedDialogsAlert dialogID={props.id}\r\n                                            deleteDialog={props.deleteDialog}/>\r\n            }\r\n        >\r\n            <NavLink to={`/dialogs/${props.id}`} style={{\r\n                textDecoration: 'none',\r\n                color: 'inherit',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                width: '100%'\r\n            }}>\r\n                <ListItemAvatar>\r\n                    <Avatar\r\n                        alt=\"Tony Stark\"\r\n                        src=\"https://www.seoclerk.com/pics/319222-1IvI0s1421931178.png\"\r\n                        sx={{width: 50, height: 50}}\r\n                    />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    style={{paddingLeft: '15px'}}\r\n                    primary={props.name}\r\n                    secondary={'Secondary text'}\r\n                />\r\n                <Typography variant={'caption'}>{currentTime()}</Typography>\r\n            </NavLink>\r\n\r\n        </CustomListItem>\r\n            <Divider/>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default UserDialogElement;","import React, {useState} from 'react';\r\nimport {\r\n    Divider,\r\n    Grid,\r\n    List, Paper,\r\n} from \"@mui/material\";\r\nimport DialogsHeader from \"./Headers/DialogsHeader\";\r\nimport {DialogsPropsType} from \"./DialogsContainer\";\r\nimport UserDialogElement from \"./UserDialogElement/UserDialogElement\";\r\nimport {styled} from \"@mui/material/styles\";\r\n\r\nconst RootContainer = styled(Grid)({\r\n    height: '90vh ',\r\n    flexDirection: 'column',\r\n    flexWrap: 'nowrap',\r\n    overflow: 'auto',\r\n    overflowY: 'visible',\r\n    '&::-webkit-scrollbar': {\r\n        width: '5px'\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n        background: '#3f51b5',\r\n        borderRadius: '5px'\r\n    },\r\n});\r\n\r\nfunction Dialogs(props: DialogsPropsType) {\r\n\r\n    const [searchDialogName, setSearchDialogName] = useState('')\r\n\r\n    let dialogsElements = props.dialogsPage.dialogs\r\n        .map(d => <UserDialogElement key={d.id}\r\n                                     id={d.id}\r\n                                     name={d.name}\r\n                                     deleteDialog={props.deleteDialog}\r\n            />\r\n        ).filter(d => d.props.name.toLowerCase().includes(searchDialogName.toLowerCase()))\r\n\r\n\r\n\r\n    // if(!props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n    return (\r\n        <Grid item xs={12} md={12} lg={9}>\r\n            <Paper elevation={4}>\r\n                <RootContainer>\r\n                    <Grid item>\r\n                        <DialogsHeader setSearchDialogName={setSearchDialogName}/>\r\n                        <Divider/>\r\n                    </Grid>\r\n                    <Grid item wrap={\"nowrap\"}>\r\n                        <List style={{paddingTop: 0}}>\r\n                            {dialogsElements}\r\n                        </List>\r\n                    </Grid>\r\n                </RootContainer>\r\n            </Paper>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default Dialogs\r\n\r\n\r\n","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    function RedirectComponent(props: MapStatePropsType) {\r\n        let {isAuth, ...restProps} = props\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n\r\n    return ConnectedRedirectComponent\r\n}","import React from 'react';\r\nimport {\r\n    DeleteDialogCreator,\r\n    DialogPageType,\r\n    sendMessageCreator,\r\n} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {compose, Dispatch} from 'redux';\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\n\r\ntype mapStateToPropsType = {\r\n    dialogsPage: DialogPageType\r\n}\r\n\r\ntype mapDispatchPropsType = {\r\n    sendMessage: (newMessText: string) => void\r\n    deleteDialog: (dialogID: string) => void\r\n}\r\n\r\nexport type  DialogsPropsType = mapStateToPropsType & mapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType) : mapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogPage,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch):mapDispatchPropsType => {\r\n    return {\r\n        sendMessage: (newMessText: string) => {\r\n           dispatch(sendMessageCreator(newMessText))\r\n        },\r\n        deleteDialog: (dialogID: string) => {\r\n            dispatch(DeleteDialogCreator(dialogID))\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);\r\n","import axios from \"axios\";\r\nimport {\r\n    AuthResponseAPIType,\r\n    FollowUnfollowResponseAPIType, ProfileResponseAPIType,\r\n    UsersResponseAPIType\r\n} from \"../APIResponseType/ApiResponseTypes\";\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers:{\r\n        \"API-KEY\" : \"cf750a83-7c21-4e27-915c-0dade0a73893\"\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers: (currentPage: number, pageSize: number) => {\r\n        return instance.get<UsersResponseAPIType>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow: (id: number) => {\r\n        return instance.post<FollowUnfollowResponseAPIType>(`follow/${id}`)\r\n    },\r\n    unfollow: (id: number) => {\r\n        return instance.delete<FollowUnfollowResponseAPIType>(`follow/${id}`)\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile: (userId: string) => {\r\n        return instance.get<ProfileResponseAPIType>(`profile/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    getStatus: (userId: string) => {\r\n        //todo type\r\n        return instance.get<any>(`profile/status/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    updateStatus: (status: string) => {\r\n        //todo type\r\n        return instance.put<any>(`profile/status`, {status})\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me: () => {\r\n        return instance.get<AuthResponseAPIType>('auth/me')\r\n            .then(response => response.data)\r\n    },\r\n    login: (email: string, password: string, rememberMe: boolean = false) => {\r\n        return instance.post<any>('auth/login', {email, password, rememberMe})\r\n    },\r\n    logout: () => {\r\n        return instance.delete<any>('auth/login')\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {usersAPI} from \"../API/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\"\r\nconst UNFOLLOW = \"UNFOLLOW\"\r\nconst SET_USERS = \"SET-USERS\"\r\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\"\r\nconst SET_TOTAL_USER_COUNT = \"SET-TOTAL-USER-COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE-IS-FOLLOWING-PROGRESS\"\r\n\r\nexport type locationType = {\r\n    city: string | null\r\n    country: string | null\r\n}\r\nexport type PhotosType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\nexport type UserType = {\r\n    id: number\r\n    photos: PhotosType\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location?: locationType\r\n}\r\n\r\nexport type  InitialStateType = typeof initialState\r\nconst initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 6,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as number[]\r\n}\r\n\r\n\r\nexport const usersReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"FOLLOW\":\r\n            return {...state, users: [...state.users.map(u => u.id === action.userId ? {...u, followed: true} : u)]}\r\n        case \"UNFOLLOW\":\r\n            return {...state, users: [...state.users.map(u => u.id === action.userId ? {...u, followed: false} : u)]}\r\n        case \"SET-USERS\":\r\n            return {...state, users: [...action.users]}\r\n        case \"SET-CURRENT-PAGE\":\r\n            return {...state, currentPage: action.page}\r\n        case \"SET-TOTAL-USER-COUNT\":\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        case \"TOGGLE-IS-FETCHING\":\r\n            return {...state, isFetching: action.isFetching}\r\n        case \"TOGGLE-IS-FOLLOWING-PROGRESS\":\r\n            return {\r\n                ...state, followingInProgress: action.isProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [state.followingInProgress.filter(id => id !== action.userId)]\r\n            } as InitialStateType\r\n        default :\r\n            return state\r\n    }\r\n}\r\n\r\nexport type ActionsType = unfollowActionType\r\n    | followActionType\r\n    | setUsersActionType\r\n    | setPageActionType\r\n    | setTotalUserCountActionType\r\n    | toggleIsFetchingActionType\r\n    | toggleFollowingProgressActionType\r\n\r\n\r\nexport type followActionType = ReturnType<typeof followSuccess>\r\nexport const followSuccess = (userId: number) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    } as const\r\n}\r\n\r\nexport type unfollowActionType = ReturnType<typeof unfollowSuccess>\r\nexport const unfollowSuccess = (userId: number) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    } as const\r\n}\r\n\r\nexport type setUsersActionType = ReturnType<typeof setUsers>\r\nexport const setUsers = (users: Array<UserType>) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    } as const\r\n}\r\n\r\nexport type setPageActionType = ReturnType<typeof setCurrentPage>\r\nexport const setCurrentPage = (page: number) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        page\r\n    } as const\r\n}\r\n\r\nexport type setTotalUserCountActionType = ReturnType<typeof setTotalUsersCount>\r\nexport const setTotalUsersCount = (totalCount: number) => {\r\n    return {\r\n        type: SET_TOTAL_USER_COUNT,\r\n        totalCount\r\n    } as const\r\n}\r\n\r\nexport type toggleIsFetchingActionType = ReturnType<typeof toggleIsFetching>\r\nexport const toggleIsFetching = (isFetching: boolean) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    } as const\r\n}\r\n\r\nexport type toggleFollowingProgressActionType = ReturnType<typeof toggleFollowingProgress>\r\nexport const toggleFollowingProgress = (isProgress: boolean, userId: number) => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        isProgress, userId\r\n    } as const\r\n}\r\n\r\n//thunk\r\nexport const requestUsers = (page: number, pageSize: number) => async (dispatch: Dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    let response = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n    dispatch(setTotalUsersCount(response.totalCount))\r\n\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch:Dispatch, userId: number,\r\n                                  apiMethod: (userId: number) => Promise<any>,\r\n                                  actionCreator: (userId: number) => ActionsType) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: number) => async (dispatch: Dispatch) => {\r\n    await followUnfollowFlow(dispatch,userId,usersAPI.follow.bind(usersAPI),followSuccess)\r\n}\r\n\r\nexport const unfollow = (userId: number) => async (dispatch: Dispatch) => {\r\n    await followUnfollowFlow(dispatch,userId,usersAPI.unfollow.bind(usersAPI),unfollowSuccess)\r\n}\r\n\r\n","import React from 'react';\r\nimport {Avatar, Button, Grid, Paper, styled, Typography} from \"@mui/material\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport defaultUserPhoto from \"../../../assets/images/userAvatar.jpg\";\r\nimport {UserType} from \"../../../redux/users-reducer\";\r\n\r\n\r\ntype UserCardPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    followingInProgress: number[]\r\n} & UserType\r\n\r\nfunction UserCard(props: UserCardPropsType) {\r\n    return (\r\n        <Paper elevation={4} style={{marginBottom: '30px', marginRight: '10px', width: '220px'}}>\r\n            <Grid container item direction={\"column\"} alignItems={\"center\"}\r\n                  style={{padding: '25px 15px', wordWrap: 'break-word'}}>\r\n                <NavLink to={`/profile/${props.id}`}>\r\n                    <UserAvatar\r\n                        alt=\"Tony Stark\"\r\n                        src={props.photos.large !== null ? props.photos.large : defaultUserPhoto}/>\r\n                </NavLink>\r\n                <Typography textAlign={\"center\"} fontWeight={\"bold\"} variant={\"subtitle1\"}\r\n                            style={{paddingTop: '10px'}}>{props.name}</Typography>\r\n                <Typography textAlign={\"center\"} variant={\"caption\"}>{props.status}</Typography>\r\n                <Typography variant={\"body2\"}>{'u.location.country'}</Typography>\r\n                <Typography variant={\"body2\"} style={{paddingBottom: '15px'}}>{'u.location.city'}</Typography>\r\n                {props.followed ?\r\n                    <Button variant={\"contained\"} disabled={props.followingInProgress.some(id => id === props.id)}  size={\"small\"} color={\"secondary\"}\r\n                            onClick={() => {\r\n                                props.unfollow(props.id)\r\n                            }}>Unfollow</Button>\r\n                    : <Button variant={\"contained\"} disabled={props.followingInProgress.some(id => id === props.id)} size={\"small\"} color={\"success\"}\r\n                              onClick={() => {\r\n                                  props.follow(props.id)\r\n                              }}>Follow</Button>}\r\n            </Grid>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default UserCard;\r\n\r\nconst UserAvatar = styled(Avatar)`\r\n  width: 100px;\r\n  height: 100px;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;","import React from 'react';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    Grid,\r\n    Input,\r\n    NativeSelect,\r\n    Pagination,\r\n    styled,\r\n} from \"@mui/material\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport UserCard from \"./UserCard/UserCard\";\r\n\r\n\r\ntype UsersPropsType = {\r\n    users: Array<UserType>\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    handlePageChange: (event: React.ChangeEvent<unknown>, pageNumber: number) => void\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n}\r\n\r\nfunction Users(props: UsersPropsType) {\r\n\r\n    const pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    const usersElement = props.users.map(u => {\r\n        return <UserCard name={u.name}\r\n                         key={u.id}\r\n                         id={u.id}\r\n                         status={u.status}\r\n                         followed={u.followed}\r\n                         photos={u.photos}\r\n                         follow={props.follow}\r\n                         unfollow={props.unfollow}\r\n                         followingInProgress={props.followingInProgress}/>\r\n    })\r\n\r\n\r\n    return (\r\n        <Grid container item direction={\"column\"}>\r\n            <Grid container spacing={2} item direction={\"row\"} wrap={\"nowrap\"} alignItems={\"center\"}\r\n                  style={{padding: '5px'}}>\r\n                <Grid item xs={12} style={{padding: '15px 0 0 30px'}}>\r\n                    <Input fullWidth placeholder=\"Search users\"/>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button variant=\"contained\" color=\"success\" size={\"medium\"}>Search</Button>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid container item justifyContent={\"flex-end\"} direction={\"row\"}\r\n                  style={{padding: '5px', marginTop: '5px'}}>\r\n                <Grid item>\r\n                    <NativeSelect\r\n                        color={\"primary\"}\r\n                        size={\"small\"}\r\n                        style={{fontSize: '13px'}}\r\n                        defaultValue={'Filter'}>\r\n                        <option value={10}>All</option>\r\n                        <option value={20}>Only followed</option>\r\n                        <option value={30}>Only unfollowed</option>\r\n                    </NativeSelect>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid container item direction={\"row\"} wrap={\"wrap\"} justifyContent={\"flex-start\"}\r\n                  style={{marginTop: '10px', marginLeft: '20px'}}>\r\n                {props.isFetching ? <Preloader/> : usersElement}\r\n            </Grid>\r\n            <Grid item flexWrap={\"nowrap\"} margin={\"auto\"}>\r\n                {props.isFetching ? <></> : <Pagination count={pagesCount}\r\n                            page={props.currentPage}\r\n                            onChange={props.handlePageChange}\r\n                            variant=\"outlined\"\r\n                            shape=\"rounded\"\r\n                            color={\"primary\"}/>}\r\n            </Grid>\r\n        </Grid>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default Users;\r\n","import {AppStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state: AppStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    unfollow,\r\n    UserType\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize, getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\ntype mapStateToPropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n}\r\ntype mapDispatchPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setCurrentPage: (page: number) => void\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n}\r\ntype  UsersPropsType = mapStateToPropsType & mapDispatchPropsType\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nclass UsersContainer extends React.Component<UsersPropsType> {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    handlePageChange = (event: React.ChangeEvent<unknown>, pageNumber: number) => {\r\n        this.props.requestUsers(pageNumber, this.props.pageSize)\r\n        this.props.setCurrentPage(pageNumber)\r\n    };\r\n\r\n\r\n    render() {\r\n        return <Users users={this.props.users}\r\n                      follow={this.props.follow}\r\n                      unfollow={this.props.unfollow}\r\n                      totalUsersCount={this.props.totalUsersCount}\r\n                      pageSize={this.props.pageSize}\r\n                      currentPage={this.props.currentPage}\r\n                      handlePageChange={this.handlePageChange}\r\n                      isFetching={this.props.isFetching}\r\n                      followingInProgress={this.props.followingInProgress}\r\n        />\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    // withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow, unfollow, setCurrentPage, requestUsers\r\n    })\r\n)(UsersContainer)\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Input, styled, Tooltip} from \"@mui/material\";\r\n\r\n\r\ntype ProfileStatusPropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileStatusWithHooks =  (props: ProfileStatusPropsType) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n    const onStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {editMode\r\n                ? <Input style={{width: '95%'}} onChange={onStatusChange} placeholder={'Set status'} value={status} autoFocus\r\n                         onBlur={deactivateEditMode}/>\r\n                : <Tooltip title=\"Use double click to change your status\" placement={'bottom-start'}>\r\n                    <StyledStatus onDoubleClick={activateEditMode}>\r\n                        {status ? status : 'Set status'}\r\n                    </StyledStatus>\r\n                </Tooltip>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;\r\n\r\nconst StyledStatus = styled('div')`\r\n  margin-right: 20px;\r\n  :hover{\r\n    background-color: gray;\r\n    opacity: 0.3;\r\n  }\r\n`","import React from 'react';\r\nimport EditOutlinedIcon from '@mui/icons-material/EditOutlined';\r\nimport {Badge, BadgeProps, Grid, IconButton, Paper, styled, Tooltip, Typography} from \"@mui/material\";\r\nimport useClasses from \"../../../../customHookCSS/useClasses\";\r\nimport {ProfileType} from \"../../../../redux/profile-reducer\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\n\r\n\r\nconst Item = styled(Paper)(({theme}) => ({\r\n    ...theme.typography.body2,\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n    borderRadius: '30px',\r\n    backgroundColor: theme.palette.text.disabled,\r\n    padding: '4px 10px 4px 10px'\r\n}));\r\nconst StyledBadge = styled(Badge)<BadgeProps>(({theme}) => ({\r\n    '& .MuiBadge-badge': {\r\n        right: -59,\r\n        top: 7,\r\n        padding: '0 4px',\r\n        font: 'italic 0.9em \"Fira Sans\", serif'\r\n    },\r\n}));\r\nconst styles = (theme: any) => ({\r\n    rootContainer: {\r\n        paddingBottom: '20px'\r\n    },\r\n    userInfoContainer: {\r\n        paddingLeft: '20px',\r\n    },\r\n    userInfoContainerContent: {\r\n        width: '100%',\r\n    },\r\n    editButton: {\r\n        float: 'right', display: 'inline'\r\n    },\r\n    userName: {\r\n        padding: '20px 20px 0 0'\r\n    },\r\n    statusInput: {\r\n        width: '97%', paddingTop: '-10px'\r\n    },\r\n    userPosition: {\r\n        color: '#686868', fontSize: '16px', fontWeight: 700,\r\n    },\r\n\r\n});\r\n\r\ntype UserInfoPropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nfunction UserInfo(props: UserInfoPropsType) {\r\n\r\n    const classes = useClasses(styles);\r\n\r\n    return (\r\n        <Grid container item direction={\"column\"} className={classes.rootContainer}>\r\n            <Grid container item spacing={2} direction={\"row\"} className={classes.userInfoContainer}>\r\n                <Grid item className={classes.userInfoContainerContent}>\r\n                    <Tooltip title=\"Change your profile information\">\r\n                        <IconButton className={classes.editButton} color={\"primary\"}>\r\n                            <EditOutlinedIcon/>\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                    <Typography variant=\"h6\" fontWeight={\"bold\"} component=\"h1\" className={classes.userName}>\r\n                        {props.profile.fullName}\r\n                    </Typography>\r\n                    <ProfileStatus status={props.status}\r\n                                   updateStatus={props.updateStatus} />\r\n                    {/*<Input disableUnderline value={props.profile.aboutMe ? props.profile.aboutMe : '' } placeholder=\"Set status\" className={classes.statusInput}/>*/}\r\n                    <StyledBadge invisible={!props.profile.lookingForAJob} badgeContent={'Open to work'}\r\n                                 color=\"success\">\r\n                        <span className={classes.userPosition}>\r\n                            {props.profile.lookingForAJobDescription ? props.profile.lookingForAJobDescription : 'default description'}\r\n                        </span>\r\n                    </StyledBadge>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Item>HTML</Item>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Item>CSS</Item>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Item>JS</Item>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Item>ReactJS</Item>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Item>TypeScript</Item>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Item>Redux</Item>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Item>Git</Item>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Item>Yarn</Item>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Item>Webpack</Item>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default UserInfo;\r\n\r\n","import React, {useState} from 'react';\r\nimport FacebookIcon from '@mui/icons-material/Facebook';\r\nimport LanguageIcon from '@mui/icons-material/Language';\r\nimport InstagramIcon from '@mui/icons-material/Instagram';\r\nimport YouTubeIcon from '@mui/icons-material/YouTube';\r\nimport GitHubIcon from '@mui/icons-material/GitHub';\r\nimport LinkedInIcon from '@mui/icons-material/LinkedIn';\r\nimport TwitterIcon from '@mui/icons-material/Twitter';\r\nimport {Avatar, AvatarProps, Badge, BadgeProps, Divider, Grid, IconButton, styled, Tooltip} from \"@mui/material\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport ListItemButton from \"@mui/material/ListItemButton\";\r\nimport EditOutlinedIcon from '@mui/icons-material/EditOutlined';\r\nimport useClasses from \"../../../../customHookCSS/useClasses\";\r\nimport {ProfileType} from \"../../../../redux/profile-reducer\";\r\nimport defaultUserAvatar from '../../../../assets/images/userAvatar.jpg'\r\nimport CameraAltIcon from '@mui/icons-material/CameraAlt';\r\n\r\nconst CustomAvatar = styled(Avatar)<AvatarProps>(({theme}) => ({\r\n    width: 250,\r\n    height: 250,\r\n    margin: 'auto',\r\n    marginTop: '-25px',\r\n    border: '3px solid transparent',\r\n    // '&:hover': {\r\n    //     border: `3px solid #3f51b5`,\r\n    // }\r\n}));\r\n\r\nconst StyledBadge = styled(Badge)<BadgeProps>(({theme}) => ({\r\n    '& .MuiBadge-badge': {\r\n        right: 27,\r\n        top: 25,\r\n        padding: '0 4px',\r\n        font: 'italic 0.9em \"Fira Sans\", serif'\r\n    },\r\n}));\r\n\r\nconst styles = (theme: any) => ({\r\n    editButton: {\r\n        float: 'right', display: 'inline'\r\n    },\r\n    profileFacebookIcon: {\r\n        paddingRight: '10px', color: '#4267B2',\r\n    },\r\n    profileWebsiteIcon: {\r\n        paddingRight: '10px', width: '40px'\r\n    },\r\n    profileVkontakteIcon: {\r\n        width: '40px', paddingRight: '15px', paddingBottom: 0\r\n    },\r\n    profileTwitterIcon: {\r\n        paddingRight: '10px', color: '#1DA1F2',\r\n    },\r\n    profileInstagramIcon: {\r\n        paddingRight: '10px', color: '#8a3ab9',\r\n    },\r\n    profileYouTubeIcon: {\r\n        paddingRight: '10px', color: '#FF0000',\r\n    },\r\n    profileGitHubIcon: {\r\n        paddingRight: '10px', color: '#4078c0',\r\n    },\r\n    profileLinkedInIcon: {\r\n        paddingRight: '10px', color: '#0077b5',\r\n    },\r\n\r\n});\r\n\r\ntype ProfileInfoPropsType = {\r\n    profile: ProfileType\r\n}\r\n\r\nfunction ProfileInfo(props: ProfileInfoPropsType) {\r\n    const classes = useClasses(styles);\r\n\r\n    const [invisible, setInvisible] = useState(true)\r\n\r\n    return (\r\n        <Grid container item direction={\"column\"}>\r\n            <Grid item>\r\n                <Tooltip title=\"Change your social networks links\">\r\n                    <IconButton className={classes.editButton} color={\"primary\"}>\r\n                        <EditOutlinedIcon/>\r\n                    </IconButton>\r\n                </Tooltip>\r\n            </Grid>\r\n            <Grid item style={{margin: 'auto'}}>\r\n                {/*<CustomAvatar src={props.profile.photos.large ? props.profile.photos.large  : defaultUserAvatar }/>*/}\r\n\r\n                <StyledBadge\r\n                    badgeContent={\r\n                        <Tooltip title=\"Update photo\">\r\n                            <IconButton style={{color: '#3f51b5'}} aria-label={'new photo'}>\r\n                                <CameraAltIcon fontSize={\"large\"}/>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    }\r\n                    invisible={invisible}\r\n                    onMouseEnter={() => setInvisible(false)}\r\n                    onMouseLeave={() => setInvisible(true)}\r\n                    overlap=\"circular\"\r\n                    anchorOrigin={{vertical: 'top', horizontal: 'right'}}\r\n                >\r\n                    <CustomAvatar alt='avatar' src={props.profile.photos.large ? props.profile.photos.large : defaultUserAvatar}/>\r\n                </StyledBadge>\r\n\r\n\r\n            </Grid>\r\n            <Grid item>\r\n                <ListItemButton>\r\n                    <StyledListItemIcon>\r\n                        <FacebookIcon fontSize={\"large\"} className={classes.profileFacebookIcon}/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Facebook\"/>\r\n                </ListItemButton>\r\n                <Divider/>\r\n                <ListItemButton>\r\n                    <StyledListItemIcon>\r\n                        <LanguageIcon fontSize={\"large\"} className={classes.profileWebsiteIcon}/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Website\"/>\r\n                </ListItemButton>\r\n                <Divider/>\r\n                <ListItemButton>\r\n                    <StyledListItemIcon>\r\n                        <i style={{padding: '2px'}}>\r\n                            <img alt='vk img' src='https://upload.wikimedia.org/wikipedia/commons/2/21/VK.com-logo.svg'\r\n                                 className={classes.profileVkontakteIcon}/>\r\n                        </i>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"VK\"/>\r\n                </ListItemButton>\r\n                <Divider/>\r\n                <ListItemButton>\r\n                    <StyledListItemIcon>\r\n                        <TwitterIcon fontSize={\"large\"} className={classes.profileTwitterIcon}/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Twitter\"/>\r\n                </ListItemButton>\r\n                <Divider/>\r\n                <ListItemButton>\r\n                    <StyledListItemIcon>\r\n                        <InstagramIcon fontSize={\"large\"} className={classes.profileInstagramIcon}/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"Instagram\"/>\r\n                </ListItemButton>\r\n                <Divider/>\r\n                <ListItemButton>\r\n                    <StyledListItemIcon>\r\n                        <YouTubeIcon fontSize={\"large\"} className={classes.profileYouTubeIcon}/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"YouTube\"/>\r\n                </ListItemButton>\r\n                <Divider/>\r\n                <ListItemButton>\r\n                    <StyledListItemIcon>\r\n                        <GitHubIcon fontSize={\"large\"} className={classes.profileGitHubIcon}/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"GitHub\"/>\r\n                </ListItemButton>\r\n                <Divider/>\r\n                <a href={props.profile.contacts.github} target={'_blank'} rel=\"noreferrer\" style={{textDecoration: 'none', color:'inherit'}}>\r\n                <ListItemButton href={props.profile.contacts.github}>\r\n                    <StyledListItemIcon>\r\n                        <LinkedInIcon fontSize={\"large\"} className={classes.profileLinkedInIcon}/>\r\n                    </StyledListItemIcon>\r\n                    <ListItemText primary=\"LinkedIn\"/>\r\n                </ListItemButton>\r\n                </a>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;\r\n\r\nconst StyledListItemIcon = styled(ListItemIcon)`\r\n  min-width: 40px;\r\n  color: #3f51b5;\r\n`","import {v1} from \"uuid\";\r\nimport {PhotosType, toggleIsFetching} from \"./users-reducer\";\r\nimport {Dispatch} from \"redux\";\r\nimport {profileAPI} from \"../API/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\"\r\nconst DELETE_POST = \"DELETE-POST\"\r\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\"\r\nconst SET_STATUS = \"SET-STATUS\"\r\n\r\nexport type PostType = {\r\n    id: string\r\n    message: string\r\n    likeCount: number\r\n}\r\nexport type ContactsType = {\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n    github: string\r\n}\r\nexport type ProfileType = {\r\n    aboutMe: string\r\n    contacts: ContactsType\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    userId: number | null\r\n    photos: PhotosType\r\n}\r\nexport type ProfilePageType = {\r\n    posts: Array<PostType>\r\n    profile: ProfileType\r\n    status: string\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\nconst initialState: ProfilePageType = {\r\n    posts: [\r\n        {id: v1(), message: 'Hi, how are you ', likeCount: 15},\r\n        {id: v1(), message: 'It\\'s my first post ', likeCount: 20},\r\n        {\r\n            id: v1(),\r\n            message: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ea illum, molestias quibusdam rem repellat sapiente? Amet consequatur corporis cum, et ipsam magni, nemo obcaecati quos saepe, sed sint tempora totam',\r\n            likeCount: 5\r\n        },\r\n        {id: v1(), message: 'Da da ', likeCount: 99},\r\n    ] as PostType[],\r\n    profile: {\r\n        aboutMe: '',\r\n        contacts: {\r\n            facebook: '',\r\n            website: '',\r\n            vk: '',\r\n            twitter: '',\r\n            instagram: '',\r\n            youtube: '',\r\n            github: '',\r\n            mainLink: ''\r\n        },\r\n        lookingForAJob: false,\r\n        lookingForAJobDescription: '',\r\n        fullName: '',\r\n        userId: null,\r\n        photos: {\r\n            large: null,\r\n            small: null\r\n        }\r\n    } as ProfileType,\r\n    status: ''\r\n}\r\n\r\n\r\nexport const profileReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"ADD-POST\": {\r\n            let newPost = {\r\n                id: v1(),\r\n                message: action.newPostText,\r\n                likeCount: 0\r\n            }\r\n            return {...state, posts: [newPost, ...state.posts]}\r\n        }\r\n        case \"DELETE-POST\": {\r\n            return {...state, posts: [...state.posts.filter(p => p.id !== action.postID)]}\r\n        }\r\n        case \"SET-USER-PROFILE\": {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case \"SET-STATUS\": {\r\n            return {...state, status: action.status}\r\n        }\r\n        default :\r\n            return state\r\n    }\r\n\r\n}\r\n\r\ntype ActionsType = AddPostActionType\r\n    | DeletePostActionType\r\n    | setUserProfileActionType\r\n    | setUserStatusActionType\r\n\r\nexport type AddPostActionType = ReturnType<typeof addPostActionCreator>\r\nexport const addPostActionCreator = (newPostText: string) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText\r\n    } as const\r\n}\r\n\r\nexport type DeletePostActionType = ReturnType<typeof DeletePostCreator>\r\nexport const DeletePostCreator = (postID: string) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postID: postID\r\n    } as const\r\n}\r\n\r\nexport type setUserProfileActionType = ReturnType<typeof setUserProfile>\r\nexport const setUserProfile = (profile: ProfileType) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    } as const\r\n}\r\n\r\nexport type setUserStatusActionType = ReturnType<typeof setStatus>\r\nexport const setStatus = (status: string) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    } as const\r\n}\r\n\r\n//thunk\r\nexport const getUserProfile = (userId: string) => async (dispatch: Dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    let response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response))\r\n}\r\n\r\n\r\nexport const getStatus = (userId: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response))\r\n}\r\n\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n","import React from 'react';\r\nimport {Avatar, Button, Grid, TextField} from \"@mui/material\";\r\nimport {AddPostPropsType} from \"./AddPostContainer\";\r\nimport useClasses from \"../../../../customHookCSS/useClasses\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../../../utils/validators/validators\";\r\n\r\nconst styles = (theme: any) => ({\r\n    rootContainer: {\r\n        padding:'20px',\r\n    },\r\n    addPostButton: {\r\n        float: 'right'\r\n    }\r\n});\r\n\r\nfunction AddPost(props: AddPostPropsType) {\r\n\r\n    const classes = useClasses(styles);\r\n\r\n\r\n\r\n\r\n    // const onKeyPressHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    //     if (e.charCode === 13 && props.newPostText.trim() !== '') {\r\n    //         e.preventDefault()\r\n    //         props.addPost(props.newPostText)\r\n    //     } else if(props.newPostText.trim() === '' && e.charCode === 13) {\r\n    //         e.preventDefault()\r\n    //         setError(true)\r\n    //     }\r\n    // }\r\n\r\n    //todo types\r\n    const addNewPost = (values: any) => {\r\n        if(values.newPostText){\r\n            props.addPost(values.newPostText)\r\n            values.newPostText = ''\r\n        } else return\r\n    }\r\n\r\n    return (\r\n        <Grid container item display={\"flex\"} direction={\"row\"} flexWrap={\"nowrap\"} className={classes.rootContainer}>\r\n            <Avatar\r\n                alt={props.profilePage.profile.fullName.charAt(0)}\r\n                src={'https://www.seoclerk.com/pics/319222-1IvI0s1421931178.png'}\r\n                sx={{width: 50, height: 50}}\r\n            />\r\n            <AddPostFormRedux onSubmit={addNewPost}/>\r\n        </Grid>\r\n\r\n    );\r\n}\r\n\r\nexport default AddPost;\r\n\r\n\r\n//@ts-ignore\r\nconst renderTextField = ({label, input, meta: {touched, invalid, error}, ...custom}) => (\r\n    <TextField\r\n        id=\"outlined-multiline-flexible\"\r\n        label={\"What's new?\"}\r\n        multiline\r\n        maxRows={3}\r\n        error={touched && invalid}\r\n        fullWidth\r\n        size={\"small\"}\r\n        {...input}\r\n        {...custom}\r\n        helperText={touched && error}\r\n    />\r\n)\r\n\r\nlet maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddNewPostForm = (props: any) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} style={{display:'flex', flexDirection:'row', width:'100%', alignItems:'center', marginLeft:'10px'}}>\r\n            <Field component={renderTextField}\r\n                   name={'newPostText'}\r\n                   validate={[requiredField,maxLength50]}\r\n            />\r\n            <Button style={{marginLeft:'10px'}}\r\n                variant=\"contained\"\r\n                    type={\"submit\"}>\r\n                Post\r\n            </Button>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm({form: 'ProfileAddNewPostForm'})(AddNewPostForm)","import {addPostActionCreator, ProfilePageType} from \"../../../../redux/profile-reducer\";\r\nimport AddPost from \"./AddPost\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../../../redux/redux-store\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\ntype mapStateToPropsType = {\r\n    profilePage: ProfilePageType\r\n}\r\ntype mapDispatchPropsType = {\r\n    addPost: (newMessText: string) => void\r\n}\r\n\r\nexport type  AddPostPropsType = mapStateToPropsType & mapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        profilePage: state.profilePage,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch): mapDispatchPropsType => {\r\n    return {\r\n        addPost: (newMessText: string) => {\r\n            dispatch(addPostActionCreator(newMessText))\r\n        }\r\n\r\n    }\r\n}\r\n\r\nconst AddPostContainer = connect(mapStateToProps, mapDispatchToProps)(AddPost)\r\n\r\nexport default AddPostContainer;\r\n","import React from 'react';\r\nimport Post from \"./Post/Post\";\r\nimport {Divider, Grid, Paper} from \"@mui/material\";\r\nimport {styled} from '@mui/material/styles';\r\nimport DescriptionOutlinedIcon from '@mui/icons-material/DescriptionOutlined';\r\nimport {PostsPropsType} from \"./PostsContainer\";\r\nimport Typography from \"@mui/material/Typography\";\r\n\r\n\r\nconst PostContainer = styled(Grid)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: nowrap;\r\n  align-items: stretch;\r\n`;\r\nconst NoPostsContainer = styled(Grid)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: nowrap;\r\n  align-items: stretch;\r\n\r\n  & svg {\r\n    color: gray;\r\n    font-size: 130px;\r\n  }\r\n;\r\n`;\r\n\r\nconst Posts = React.memo((props: PostsPropsType) => {\r\n\r\n    console.log('render posts')\r\n\r\n    const postsElement = props.posts.map(p =>\r\n        <PostContainer container item key={p.id}>\r\n            <Paper elevation={4}>\r\n                <Post key={p.id}\r\n                      id={p.id}\r\n                      message={p.message}\r\n                      likeCount={p.likeCount}\r\n                      deletePost={props.deletePost}\r\n                      photos={props.profilePhotos}\r\n                      userName={props.userName}\r\n                />\r\n            </Paper>\r\n        </PostContainer>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            {props.posts.length === 0\r\n                ? <NoPostsContainer container item>\r\n                    <Paper elevation={4}>\r\n                        <Grid item style={{padding: '20px'}}>\r\n                            <Typography>No post yet</Typography>\r\n                        </Grid>\r\n                        <Divider/>\r\n                        <Grid item style={{padding: '20px'}} display={\"flex\"} flexDirection={\"column\"}\r\n                              alignItems={\"center\"}>\r\n                            <DescriptionOutlinedIcon style={{marginBottom: '20px'}}/>\r\n                            <Typography variant={\"body2\"}>There are no posts here yet</Typography>\r\n                        </Grid>\r\n                    </Paper>\r\n                </NoPostsContainer>\r\n                : postsElement}\r\n\r\n        </>\r\n    );\r\n})\r\n\r\nexport default Posts;\r\n","import {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../../../redux/redux-store\";\r\nimport Posts from \"./Posts\";\r\nimport {Dispatch} from \"redux\";\r\nimport {DeletePostCreator, PostType} from \"../../../../redux/profile-reducer\";\r\nimport {PhotosType} from \"../../../../redux/users-reducer\";\r\n\r\n\r\ntype mapStateToPropsType = {\r\n    posts: Array<PostType>\r\n    profilePhotos: PhotosType\r\n    userName: string\r\n}\r\ntype mapDispatchPropsType = {\r\n    deletePost: (postID: string) => void\r\n}\r\n\r\nexport type  PostsPropsType = mapStateToPropsType & mapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        profilePhotos: state.profilePage.profile.photos,\r\n        userName: state.profilePage.profile.fullName\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch):mapDispatchPropsType => {\r\n    return {\r\n        deletePost: (postID: string) => {\r\n            dispatch(DeletePostCreator(postID))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts)\r\n\r\nexport default PostsContainer;","import React from 'react';\r\nimport {Avatar, Button, Divider, Grid, IconButton, Typography} from \"@mui/material\";\r\nimport IndeterminateCheckBoxOutlinedIcon from '@mui/icons-material/IndeterminateCheckBoxOutlined';\r\nimport AddBoxOutlinedIcon from '@mui/icons-material/AddBoxOutlined';\r\nimport {NavLink} from 'react-router-dom';\r\nimport defaultUserPhoto from '../../../../assets/images/userAvatar.jpg'\r\nimport {UserType} from \"../../../../redux/users-reducer\";\r\n\r\n\r\ntype SuggestionPropsType = {\r\n    users: Array<UserType>\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n}\r\n\r\nfunction Suggestions (props: SuggestionPropsType) {\r\n\r\n        const top6Users = props.users.filter(u => !u.followed).slice(0,6)\r\n\r\n        const suggestionElements = top6Users.map(s => {\r\n            return <Grid item key={s.id}>\r\n                <Grid container xs={12} item spacing={2} direction={\"row\"} wrap={\"nowrap\"}\r\n                      justifyContent={'flex-start'}>\r\n                    <Grid item style={{marginLeft: '20px'}}>\r\n                        <Avatar\r\n                            alt=\"Remy Sharp\"\r\n                            src={s.photos.large !== null ? s.photos.large : defaultUserPhoto}\r\n                            sx={{width: 48, height: 48}}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Typography variant=\"subtitle2\" component=\"h1\" style={{paddingBottom: 0}}>\r\n                            {s.name}\r\n                        </Typography>\r\n                        <Typography variant=\"caption\">\r\n                            {s.status === null ? 'default status' : s.status }\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item style={{marginLeft: 'auto'}}>\r\n                        {s.followed ?\r\n                            <IconButton aria-label=\"delete\" size=\"large\"\r\n                                        onClick={() => props.unfollow(s.id)}><IndeterminateCheckBoxOutlinedIcon\r\n                                fontSize=\"inherit\"\r\n                                color={\"secondary\"}/></IconButton>\r\n                            : <IconButton aria-label=\"delete\" size=\"large\"\r\n                                          onClick={() => props.follow(s.id)}><AddBoxOutlinedIcon\r\n                                fontSize=\"inherit\" color={\"success\"}/></IconButton>}\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        })\r\n\r\n        return (\r\n            <Grid container item spacing={2} direction={\"column\"}>\r\n                <Grid item>\r\n                    <Typography variant=\"h6\" component=\"h1\" style={{fontWeight: 'bold',  paddingBottom: '10px',\r\n                        paddingLeft: '20px',}}>\r\n                        Suggestions\r\n                    </Typography>\r\n                    <Divider/>\r\n                </Grid>\r\n                {suggestionElements}\r\n                <Grid item style={{margin: 'auto', paddingTop: 0, width: '100%'}}>\r\n                    <NavLink to=\"/users\" style={{textDecoration: 'none', color: 'inherit'}} >\r\n                        <Button fullWidth variant={\"text\"} color={\"secondary\"}>view more</Button>\r\n                    </NavLink>\r\n                </Grid>\r\n            </Grid>\r\n\r\n        );\r\n    }\r\n\r\n\r\nexport default Suggestions;\r\n","import React from 'react';\r\nimport {AppStateType} from \"../../../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    followSuccess, setUsers,\r\n    unfollowSuccess,\r\n    UserType\r\n} from \"../../../../redux/users-reducer\";\r\nimport Suggestions from \"./Suggestions\";\r\nimport {usersAPI} from \"../../../../API/api\";\r\n\r\n\r\ntype mapStateToPropsType = {\r\n    users: Array<UserType>\r\n}\r\ntype mapDispatchPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setUsers: (users: Array<UserType>) => void\r\n}\r\nexport type  SuggestionsPropsType = mapStateToPropsType & mapDispatchPropsType\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        users: state.usersPage.users\r\n    }\r\n}\r\n\r\n\r\nclass SuggestionsContainer extends React.Component<SuggestionsPropsType> {\r\n    componentDidMount() {\r\n        usersAPI.getUsers(1, 30).then(data => {\r\n                this.props.setUsers(data.items)\r\n            });\r\n    }\r\n\r\n    follow = (userId: number) => {\r\n        this.props.follow(userId)\r\n    }\r\n    unfollow = (userId: number) => {\r\n        this.props.unfollow(userId)\r\n    }\r\n\r\n    render() {\r\n        return <Suggestions users={this.props.users}\r\n                            follow={this.props.follow}\r\n                            unfollow={this.props.unfollow}\r\n        />\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {follow: followSuccess, unfollow: unfollowSuccess, setUsers})(SuggestionsContainer)\r\n","import React from 'react';\r\nimport {\r\n    Grid,\r\n    Paper,\r\n\r\n} from \"@mui/material\";\r\nimport UserInfo from \"./RightColumn/UserInfo/UserInfo\";\r\nimport ProfileInfo from \"./LeftColumn/ProfileInfo/ProfileInfo\";\r\nimport AddPostContainer from \"./RightColumn/AddPost/AddPostContainer\";\r\nimport PostsContainer from \"./RightColumn/Posts/PostsContainer\";\r\nimport SuggestionsContainer from \"./LeftColumn/Suggestions/SuggestionsContainer\";\r\nimport {ProfilePropsType} from \"./ProfileContainer\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\n\r\nfunction Profile(props: ProfilePropsType) {\r\n    if (!props.profile.fullName) {\r\n        return <Preloader/>\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Grid container\r\n                  direction={\"column\"}\r\n                  md={4} lg={5} xl={4}\r\n                  item\r\n                  spacing={4}>\r\n                <Grid item>\r\n                    <Paper elevation={4}>\r\n                        <ProfileInfo profile={props.profile}/>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Paper elevation={4}>\r\n                        <SuggestionsContainer/>\r\n                    </Paper>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid container\r\n                  md={8} lg={9} xl={9}\r\n                  item\r\n                  spacing={4} direction={\"column\"}\r\n                  marginBottom={'10px'}\r\n                  flexWrap={\"nowrap\"}>\r\n                <Grid item>\r\n                    <Paper elevation={4}>\r\n                        <UserInfo profile={props.profile}\r\n                                  status={props.status}\r\n                                  updateStatus={props.updateStatus}/>\r\n                    </Paper>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Paper elevation={4}>\r\n                        <AddPostContainer/>\r\n                    </Paper>\r\n                </Grid>\r\n                <PostsContainer/>\r\n            </Grid>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {getStatus, getUserProfile, ProfileType, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\n\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\ntype mapStateToPropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    isAuth: boolean\r\n    authorizedUserId: number\r\n}\r\ntype mapDispatchPropsType = {\r\n    getUserProfile: (userId: string) => void\r\n    getStatus: (userId: string) => void\r\n    updateStatus: (status: string) => void\r\n}\r\nexport type  ProfilePropsType = mapStateToPropsType & mapDispatchPropsType\r\ntype PropsType = RouteComponentProps<PathParamsType> & ProfilePropsType\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId.toString()\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}/>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): mapStateToPropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id!,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n","import * as React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Typography from '@mui/material/Typography';\r\nimport Badge from '@mui/material/Badge';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport AccountCircle from '@mui/icons-material/AccountCircle';\r\nimport MailIcon from '@mui/icons-material/Mail';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\nimport MoreIcon from '@mui/icons-material/MoreVert';\r\nimport {Avatar, Button, Divider, Drawer, Grid, ListItemIcon, styled} from \"@mui/material\";\r\nimport {Logout, Settings} from \"@mui/icons-material\";\r\nimport NavBar from \"../NavBar/NavBar\";\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\nimport useClasses from \"../../customHookCSS/useClasses\";\r\nimport {HeaderPropsType} from \"./HeaderContainer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\n\r\nconst MainHeaderContainer = styled('div')(({theme}) => ({\r\n    margin: 'auto',\r\n    width: '70%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexDirection: 'row',\r\n    color: 'white',\r\n    [theme.breakpoints.down('md')]: {\r\n        width: '90%',\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n        width: '90%',\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n        width: '80%',\r\n    },\r\n}));\r\nconst styles = (theme: any) => ({\r\n    navLink: {\r\n        textDecoration: 'none', color: 'inherit'\r\n    }\r\n});\r\n\r\ntype Anchor = \"top\" | \"left\" | \"bottom\" | \"right\";\r\n\r\n\r\nexport default function Header(props: HeaderPropsType) {\r\n\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth)\r\n\r\n\r\n    const classes = useClasses(styles);\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState<null | HTMLElement>(null);\r\n    const [state, setState] = React.useState(false);\r\n\r\n    const toggleDrawer = (open: boolean) => (event: React.KeyboardEvent | React.MouseEvent | React.FocusEvent<HTMLDivElement>) => {\r\n        setState(!state)\r\n    }\r\n\r\n\r\n\r\n    const logout = () => {\r\n        if(isAuth) {\r\n            props.logout()\r\n        }\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n\r\n    const list = (anchor: Anchor) => (\r\n        <Box\r\n            style={{marginTop: '20px', width: '250px'}}\r\n            role=\"presentation\"\r\n            onKeyDown={toggleDrawer(false)}\r\n            onClick={toggleDrawer(false)}\r\n        >\r\n            <Grid container item direction={\"row\"} flexWrap={\"nowrap\"} alignItems={\"center\"}>\r\n                <Avatar\r\n                    alt=\"Remy Sharp\"\r\n                    src=\"https://www.seoclerk.com/pics/319222-1IvI0s1421931178.png\"\r\n                    sx={{width: 60, height: 60, margin: '10px'}}\r\n\r\n                />\r\n                <Grid container item direction={\"column\"} flexWrap={\"wrap\"}>\r\n                    <Typography variant={\"subtitle1\"} style={{padding: 0}}>{props.login}</Typography>\r\n                </Grid>\r\n            </Grid>\r\n            <Divider/>\r\n            <NavBar/>\r\n        </Box>\r\n    );\r\n\r\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n    const handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleMobileMenuClose = () => {\r\n        setMobileMoreAnchorEl(null);\r\n    };\r\n\r\n    const handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n        setMobileMoreAnchorEl(event.currentTarget);\r\n    };\r\n\r\n\r\n    const open = Boolean(anchorEl);\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const menuId = 'primary-search-account-menu';\r\n    const renderMenu = (\r\n        <Menu\r\n            anchorEl={anchorEl}\r\n            open={open}\r\n            onClose={handleClose}\r\n            onClick={handleClose}\r\n            PaperProps={{\r\n                elevation: 0,\r\n                sx: {\r\n                    overflow: 'visible',\r\n                    filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\r\n                    mt: 1.5,\r\n                    '& .MuiAvatar-root': {\r\n                        width: 40,\r\n                        height: 40,\r\n                        ml: -0.5,\r\n                        mr: 1,\r\n                    },\r\n                    '&:before': {\r\n                        content: '\"\"',\r\n                        display: 'block',\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        right: 14,\r\n                        width: 10,\r\n                        height: 10,\r\n                        bgcolor: 'background.paper',\r\n                        transform: 'translateY(-50%) rotate(45deg)',\r\n                        zIndex: 0,\r\n                    },\r\n                },\r\n            }}\r\n            transformOrigin={{horizontal: 'right', vertical: 'top'}}\r\n            anchorOrigin={{horizontal: 'right', vertical: 'bottom'}}\r\n        >\r\n            <NavLink to=\"/\" className={classes.navLink}>\r\n                <MenuItem style={{display:'flex', flexDirection: 'row'}}>\r\n                    <Avatar/>\r\n                    <Grid item style={{display:'flex', flexDirection: 'column'}}>\r\n                        {props.login}\r\n                        <Typography variant={\"caption\"}>Go to Profile</Typography>\r\n                    </Grid>\r\n                </MenuItem>\r\n            </NavLink>\r\n            <Divider/>\r\n            <MenuItem>\r\n                <ListItemIcon>\r\n                    <Settings fontSize=\"small\"/>\r\n                </ListItemIcon>\r\n                Settings\r\n            </MenuItem>\r\n            <MenuItem onClick={logout}>\r\n                <ListItemIcon>\r\n                    <Logout fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                Logout\r\n            </MenuItem>\r\n        </Menu>\r\n    );\r\n\r\n    const mobileMenuId = 'primary-search-account-menu-mobile';\r\n    const renderMobileMenu = (\r\n        <Menu\r\n            anchorEl={mobileMoreAnchorEl}\r\n            anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }}\r\n            id={mobileMenuId}\r\n            keepMounted\r\n            transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n            }}\r\n            open={isMobileMenuOpen}\r\n            onClose={handleMobileMenuClose}\r\n        >\r\n            <MenuItem>\r\n                <IconButton size=\"large\" aria-label=\"show 4 new mails\" color=\"inherit\">\r\n                    <Badge badgeContent={4} color=\"error\">\r\n                        <MailIcon/>\r\n                    </Badge>\r\n                </IconButton>\r\n                <p>Messages</p>\r\n            </MenuItem>\r\n            <MenuItem>\r\n                <IconButton\r\n                    size=\"large\"\r\n                    aria-label=\"show 17 new notifications\"\r\n                    color=\"inherit\"\r\n                >\r\n                    <Badge badgeContent={17} color=\"error\">\r\n                        <NotificationsIcon/>\r\n                    </Badge>\r\n                </IconButton>\r\n                <p>Notifications</p>\r\n            </MenuItem>\r\n            <MenuItem onClick={handleProfileMenuOpen}>\r\n                <IconButton\r\n                    size=\"large\"\r\n                    aria-label=\"account of current user\"\r\n                    aria-controls=\"primary-search-account-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    color=\"inherit\"\r\n                >\r\n                    <AccountCircle/>\r\n                </IconButton>\r\n                <p>Profile</p>\r\n            </MenuItem>\r\n            <Divider/>\r\n        </Menu>\r\n    );\r\n\r\n\r\n    return (\r\n        <Box sx={{flexGrow: 1}}>\r\n            <AppBar position=\"static\" style={{boxSizing: 'initial'}}>\r\n                <MainHeaderContainer>\r\n                    <IconButton\r\n                        sx={{display: {xs: 'block', sm: 'block', md: 'none', xl: 'none'}}}\r\n                        size=\"large\"\r\n                        edge=\"start\"\r\n                        color=\"inherit\"\r\n                        aria-label=\"open drawer\"\r\n                        onClick={toggleDrawer(true)}\r\n                    >\r\n                        <MenuIcon/>\r\n                        <Drawer\r\n                            anchor={\"left\"}\r\n                            open={state}\r\n                            onClose={toggleDrawer(false)}\r\n                        >\r\n                            {list('left')}\r\n                        </Drawer>\r\n                    </IconButton>\r\n                    <Typography\r\n                        variant=\"h6\"\r\n                        noWrap\r\n                        component=\"div\"\r\n                        sx={{display: {xs: 'none', sm: 'block'}}}\r\n                    >\r\n                        Social Network\r\n                    </Typography>\r\n                    <Box sx={{flexGrow: 1}}/>\r\n                    {/*right header button*/}\r\n                    {props.isAuth ?\r\n                        <Box sx={{display: {xs: 'none', md: 'flex'}}}>\r\n                            <IconButton size=\"large\" aria-label=\"show 4 new mails\" color=\"inherit\">\r\n                                <Badge badgeContent={4} color=\"error\">\r\n                                    <MailIcon/>\r\n                                </Badge>\r\n                            </IconButton>\r\n                            <IconButton\r\n                                size=\"large\"\r\n                                aria-label=\"show 17 new notifications\"\r\n                                color=\"inherit\"\r\n                            >\r\n                                <Badge badgeContent={17} color=\"error\">\r\n                                    <NotificationsIcon/>\r\n                                </Badge>\r\n                            </IconButton>\r\n                            <IconButton\r\n                                size=\"large\"\r\n                                edge=\"end\"\r\n                                aria-controls={menuId}\r\n                                onClick={handleProfileMenuOpen}\r\n                                color=\"inherit\"\r\n                            >\r\n                                <Typography variant={\"body2\"}>\r\n                                    {props.login}\r\n                                </Typography>\r\n                                <AccountCircle/>\r\n                            </IconButton>\r\n\r\n                        </Box>\r\n                        : <NavLink to={'/login'} className={classes.navLink}>\r\n                            <Button variant={\"text\"}\r\n                                    color={\"primary\"}\r\n                                    size={\"large\"}>\r\n                                Login\r\n                            </Button>\r\n                        </NavLink>}\r\n                    <Box sx={{display: {xs: 'flex', md: 'none'}}}>\r\n                        <IconButton\r\n                            size=\"large\"\r\n                            aria-label=\"show more\"\r\n                            aria-controls={mobileMenuId}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleMobileMenuOpen}\r\n                            color=\"inherit\"\r\n                        >\r\n                            <MoreIcon/>\r\n                        </IconButton>\r\n                    </Box>\r\n                </MainHeaderContainer>\r\n            </AppBar>\r\n            {renderMobileMenu}\r\n            {renderMenu}\r\n        </Box>\r\n    );\r\n}\r\n","import {Dispatch} from \"redux\";\r\nimport {authAPI,} from \"../API/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getUserProfile} from \"./profile-reducer\";\r\n\r\nconst SET_USER_DATA = \"social-network/auth/SET-USER-DATA\"\r\n\r\ntype AuthType = {\r\n    id: null | number\r\n    email: null | string,\r\n    login: null | string,\r\n    isAuth: boolean\r\n}\r\n\r\nexport type  InitialStateType = typeof initialState\r\nconst initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n} as AuthType\r\n\r\nexport const authReducer = (state: InitialStateType = initialState, action: ActionsType) => {\r\n    switch (action.type) {\r\n        case \"social-network/auth/SET-USER-DATA\":\r\n            return {...state, ...action.data}\r\n        default :\r\n            return state\r\n    }\r\n}\r\n\r\nexport type ActionsType = setAuthUserDataActionType\r\n\r\nexport type setAuthUserDataActionType = ReturnType<typeof setAuthUserData>\r\nexport const setAuthUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: {id, email, login, isAuth}\r\n    } as const\r\n}\r\n\r\n\r\n//thunk\r\nexport const getAuthUserData = () => async (dispatch: Dispatch<any>) => {\r\n    let response = await authAPI.me()\r\n    let {id, login, email} = response.data\r\n    if (response.resultCode === 0) {\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        //todo\r\n        dispatch(getAuthUserData() as any)\r\n    } else {\r\n        dispatch(stopSubmit('login', {_error: response.data.messages}))\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const logout = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import * as React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {getAuthUserData, logout} from \"../../redux/auth-reducer\";\r\n\r\ntype mapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\ntype mapDispatchPropsType = {\r\n    getAuthUserData: () => void\r\n    logout: () => void\r\n}\r\nexport type  HeaderPropsType = mapStateToPropsType & mapDispatchPropsType\r\n\r\nclass HeaderContainer extends React.Component<HeaderPropsType> {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData, logout})(HeaderContainer);","import * as React from 'react';\r\nimport {\r\n    Button,\r\n    Checkbox, Chip,\r\n    FormControlLabel,\r\n    Grid,\r\n    Paper,\r\n    styled,\r\n    TextField,\r\n    Typography\r\n} from \"@mui/material\";\r\nimport {InjectedFormProps, reduxForm, Field} from \"redux-form\";\r\nimport {requiredField} from \"../../utils/validators/validators\";\r\nimport {connect, useSelector} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\r\n\r\n\r\n\r\ntype FormDataType = {\r\n    login: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\n//@ts-ignore\r\nconst renderTextField = ({label, input, meta: {touched, invalid, error}, ...custom}) => (\r\n    <TextField\r\n        label={label}\r\n        error={touched && invalid}\r\n        helperText={touched && error}\r\n        fullWidth\r\n        variant=\"outlined\"\r\n        {...input}\r\n        {...custom}\r\n    />\r\n)\r\n\r\n//@ts-ignore\r\nconst renderCheckbox = ({input, label}) => (\r\n    <FormControlLabel\r\n        control={\r\n            <Checkbox\r\n                checked={!!input.value}\r\n                onChange={input.onChange}\r\n            />\r\n        }\r\n        label={label}\r\n    />\r\n)\r\n\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit, error}) => {\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <Field name={'login'}\r\n                   label=\"Email\"\r\n                   component={renderTextField}\r\n                   validate={[requiredField]}\r\n            />\r\n            <Field name={'password'}\r\n                   type={\"password\"}\r\n                   label=\"Password\"\r\n                   component={renderTextField}\r\n                   validate={[requiredField]}\r\n            />\r\n            <Grid item flexWrap={'wrap'}>\r\n                <Field name={'rememberMe'} label='Remember me' component={renderCheckbox}/>\r\n                <Button variant={\"contained\"} type={\"submit\"} color={\"primary\"}>Sign in</Button>\r\n            </Grid>\r\n            {error && <Chip color={\"error\"} icon={<ErrorOutlineIcon/>} label={error}\r\n                   style={{margin: 'auto', marginTop: '20px', width: '100%'}}/>\r\n            }\r\n        </form>\r\n    );\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\n\r\ntype loginPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\n\r\nconst Login = (props: loginPropsType) => {\r\n\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth)\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.login, formData.password, formData.rememberMe)\r\n\r\n    }\r\n\r\n    if(isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <RootContentContainer>\r\n            <LogInInfoContainer elevation={4}>\r\n                <Typography fontWeight={\"bold\"} variant={'h5'}>Hi my friend. I'm glad you decided to try my social\r\n                    network. Hope you like it <span>&#128521;</span></Typography>\r\n                <Typography variant={'subtitle2'}>Here's your default email and password so you can try it\r\n                    online</Typography>\r\n                <ul>\r\n                    <li>free@samuraijs.com</li>\r\n                    <li>free</li>\r\n                </ul>\r\n            </LogInInfoContainer>\r\n            <LogInFormContainer elevation={4}>\r\n                <LoginReduxForm onSubmit={onSubmit}/>\r\n            </LogInFormContainer>\r\n        </RootContentContainer>\r\n    );\r\n}\r\n\r\nexport default connect(null, {login})(Login);\r\n\r\nconst RootContentContainer = styled(Paper)`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  margin: 50px auto;\r\n  padding: 50px;\r\n\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    width: 100%;\r\n    padding: 10px;\r\n  }\r\n`\r\nconst LogInInfoContainer = styled(Paper)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 50%;\r\n  padding: 20px;\r\n\r\n  .MuiTypography-subtitle2 {\r\n    margin-top: 20px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    margin-bottom: 20px;\r\n  }\r\n`\r\nconst LogInFormContainer = styled(Paper)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 30%;\r\n  padding: 20px;\r\n\r\n  .MuiTextField-root {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .MuiGrid-item {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n","import {Dispatch} from \"redux\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_INITIALIZED_SUCCESS\"\r\n\r\nexport type  InitialStateType = typeof initialState\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: ActionsType) => {\r\n    switch (action.type) {\r\n        case \"INITIALIZED_INITIALIZED_SUCCESS\":\r\n            return {...state, initialized: true}\r\n        default :\r\n            return state\r\n    }\r\n}\r\n\r\nexport type ActionsType =  followActionType\r\n\r\nexport type followActionType = ReturnType<typeof initializedSuccess>\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type: INITIALIZED_SUCCESS\r\n    } as const\r\n}\r\n\r\n\r\n//thunk\r\nexport const initializeApp = () => async (dispatch: Dispatch<any>) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    await Promise.all([promise])\r\n    dispatch(initializedSuccess())\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","const subcribers = {\r\n    'messages-received': [] as MessagesReceivedSubscriberType[],\r\n    'status-changed': [] as StatusChangedSubscriberType[]\r\n}\r\n\r\nlet ws: WebSocket | null = null\r\ntype EventsNamesType = 'messages-received' | 'status-changed'\r\n\r\nconst closeHandler = () => {\r\n    notifySubscribersAboutStatus('pending')\r\n    setTimeout(createChannel, 3000)\r\n}\r\nconst messageHandler = (e: MessageEvent) => {\r\n    const newMessages = JSON.parse(e.data)\r\n    subcribers['messages-received'].forEach(s => s(newMessages))\r\n}\r\nconst openHandler = () => {\r\n    notifySubscribersAboutStatus('ready')\r\n}\r\nconst errorHandler = () => {\r\n    notifySubscribersAboutStatus('error')\r\n    console.error('REFRESH PAGE')\r\n}\r\nconst cleanUp = () => {\r\n    ws?.removeEventListener('close', closeHandler)\r\n    ws?.removeEventListener('message', messageHandler)\r\n    ws?.removeEventListener('open', openHandler)\r\n    ws?.removeEventListener('error', errorHandler)\r\n}\r\nconst notifySubscribersAboutStatus = (status: StatusType) => {\r\n    subcribers['status-changed'].forEach(s => s(status))\r\n}\r\n\r\nfunction createChannel() {\r\n    cleanUp()\r\n    ws?.close()\r\n    ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n    notifySubscribersAboutStatus('pending')\r\n    ws.addEventListener('close', closeHandler)\r\n    ws.addEventListener('message', messageHandler)\r\n    ws.addEventListener('open', openHandler)\r\n    ws.addEventListener('error', errorHandler)\r\n}\r\n\r\n\r\nexport const chatAPI = {\r\n    start() {\r\n        createChannel()\r\n    },\r\n    stop() {\r\n        subcribers['messages-received'] = []\r\n        subcribers['status-changed'] = []\r\n        cleanUp()\r\n        ws?.close()\r\n    },\r\n    subscribe(eventName: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subcribers[eventName].push(callback)\r\n        return () => {\r\n            // @ts-ignore\r\n            subcribers[eventName] = subcribers[eventName].filter(s => s !== callback)\r\n        }\r\n    },\r\n    unsubscribe(eventName: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subcribers[eventName] = subcribers[eventName].filter(s => s !== callback)\r\n    },\r\n    sendMessage(message: string) {\r\n        ws?.send(message)\r\n    }\r\n}\r\n\r\ntype MessagesReceivedSubscriberType = (messages: ChatMessageAPIType[]) => void\r\ntype StatusChangedSubscriberType = (status: StatusType) => void\r\n\r\nexport type ChatMessageAPIType = {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n}\r\nexport type StatusType = 'pending' | 'ready' | 'error'","import {BaseThunkType, InferActionsTypes} from './redux-store'\r\nimport {Dispatch} from 'redux'\r\nimport {FormAction} from 'redux-form/lib/actions'\r\nimport {chatAPI, ChatMessageAPIType, StatusType} from '../API/chat-api'\r\nimport {v1} from 'uuid'\r\n\r\ntype ChatMessageType = ChatMessageAPIType & {id: string}\r\n\r\nlet initialState = {\r\n    messages: [] as ChatMessageType[],\r\n    status: 'pending' as StatusType\r\n}\r\n\r\nconst chatReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/chat/MESSAGES_RECEVIED':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.payload.messages.map( m => ({...m, id: v1() }))]\r\n                    .filter((m, index, array) => index >= array.length - 100)\r\n            }\r\n        case 'SN/chat/STATUS_CHANGED':\r\n            return {\r\n                ...state,\r\n                status: action.payload.status\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    messagesReceived: (messages: ChatMessageAPIType[]) => ({\r\n        type: 'SN/chat/MESSAGES_RECEVIED', payload: {messages}\r\n    } as const),\r\n    statusChanged: (status: StatusType) => ({\r\n        type: 'SN/chat/STATUS_CHANGED', payload: {status}\r\n    } as const)\r\n}\r\n\r\nlet _newMessageHandler: ((messages: ChatMessageAPIType[]) => void) | null = null\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newMessageHandler === null) {\r\n        _newMessageHandler = (messages) => {\r\n            dispatch(actions.messagesReceived(messages))\r\n        }\r\n    }\r\n    return _newMessageHandler\r\n}\r\n\r\nlet _statusChangedHandler: ((status: StatusType) => void) | null = null\r\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_statusChangedHandler === null) {\r\n        _statusChangedHandler = (status) => {\r\n            dispatch(actions.statusChanged(status))\r\n        }\r\n    }\r\n    return _statusChangedHandler\r\n}\r\n\r\nexport const startMessagesListening = (): ThunkType => async (dispatch: Dispatch) => {\r\n    chatAPI.start()\r\n    chatAPI.subscribe('messages-received', newMessageHandlerCreator(dispatch))\r\n    chatAPI.subscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n\r\n}\r\nexport const stopMessagesListening = (): ThunkType => async (dispatch: Dispatch) => {\r\n    chatAPI.unsubscribe('messages-received', newMessageHandlerCreator(dispatch))\r\n    chatAPI.unsubscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n    chatAPI.stop()\r\n}\r\n\r\nexport const sendMessage = (message: string): ThunkType => async (dispatch: Dispatch) => {\r\n    chatAPI.sendMessage(message)\r\n}\r\n\r\n\r\nexport default chatReducer\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>","import React, {useEffect, useRef, useState} from 'react';\nimport {Avatar, Button, Divider, Grid, Paper, styled, TextField} from \"@mui/material\";\nimport {useDispatch, useSelector} from 'react-redux';\nimport {AppStateType} from \"../../redux/redux-store\";\nimport {Send} from \"@mui/icons-material\";\nimport {sendMessage, startMessagesListening, stopMessagesListening} from \"../../redux/chat-reducer\";\nimport {ChatMessageAPIType} from \"../../API/chat-api\";\n\n\nfunction Chat() {\n    const dispatch = useDispatch()\n\n    const status = useSelector((state: AppStateType) => state.chat.status)\n\n    useEffect(() => {\n        dispatch(startMessagesListening())\n        return () => {\n            dispatch(stopMessagesListening())\n        }\n    }, [dispatch])\n\n    return (\n        <Grid item xs={10}>\n            <Paper elevation={2}>\n                {status === 'error' && <div>Some error occured. Please refresh the page</div>}\n                <div style={{width: '100%', height: '85vh'}}>\n                    <Messages/>\n                    <AddMessageForm/>\n                </div>\n            </Paper>\n        </Grid>\n    );\n}\n\n\nconst Message: React.FC<{ message: ChatMessageAPIType }> = React.memo(({message}) => {\n    return (\n        <MessageContainer>\n            <Grid item display={\"flex\"} flexDirection={\"row\"} alignItems={\"center\"}>\n                <Avatar\n                    src={message.photo}\n                    sx={{width: 36, height: 36, marginRight: '10px'}}\n                /> <b>{message.userName}</b>\n            </Grid>\n            <MessageText>\n                {message.message}\n            </MessageText>\n            <Divider/>\n        </MessageContainer>\n    )\n})\n\nconst Messages: React.FC = () => {\n    const messages = useSelector((state: AppStateType) => state.chat.messages)\n    const messagesAnchorRef = useRef<HTMLDivElement>(null);\n    const [isAutoScroll, setIsAutoScroll] = useState(true)\n\n    const scrollHandler = (e: React.UIEvent<HTMLDivElement, UIEvent>) => {\n        const element = e.currentTarget;\n        if (Math.abs((element.scrollHeight - element.scrollTop) - element.clientHeight) < 300) {\n            !isAutoScroll && setIsAutoScroll(true)\n        } else {\n            isAutoScroll && setIsAutoScroll(false)\n        }\n    }\n\n    useEffect(() => {\n        if (isAutoScroll) {\n            messagesAnchorRef.current?.scrollIntoView({behavior: 'smooth'})\n        }\n    }, [messages])\n\n    return <ChatArea onScroll={scrollHandler}>\n        {messages.map((m, index) => <Message key={m.id} message={m}/>)}\n        <div ref={messagesAnchorRef}/>\n    </ChatArea>\n}\n\nconst AddMessageForm: React.FC<{}> = () => {\n    const [message, setMessage] = useState('')\n    const dispatch = useDispatch()\n\n    const status = useSelector((state: AppStateType) => state.chat.status)\n\n\n    const sendMessageHandler = () => {\n        if (!message) {\n            return\n        }\n        dispatch(sendMessage(message))\n        setMessage('')\n    }\n\n    return <Grid display={\"flex\"} flexDirection={\"row\"} style={{padding: '10px', height: '10%'}}>\n        <TextField label=\"Message\"\n                   variant=\"outlined\"\n                   fullWidth\n                   size={\"medium\"}\n                   onChange={(e) => setMessage(e.currentTarget.value)}\n                   value={message}\n                   style={{marginRight: '10px'}}/>\n        <Button disabled={status !== 'ready'}\n                onClick={sendMessageHandler}\n                variant=\"contained\"\n                endIcon={<Send/>}\n                size={\"medium\"}>\n            Send\n        </Button>\n    </Grid>\n}\n\n\nexport default Chat;\n\nconst MessageContainer = styled('div')`\n  display: flex;\n  flex-direction: column;\n  padding: 10px 10px 0 20px;\n`\nconst ChatArea = styled('div')`\n  height: 90%;\n  overflow-y: auto;\n\n  ::-webkit-scrollbar {\n    width: 5px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: #f1f1f1;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #888;\n  }\n\n  ::-webkit-scrollbar-thumb:hover {\n    background: #555;\n  }\n`\nconst MessageText = styled('p')`\n  margin: 0 0 5px 46px;\n`","import React, {useEffect, useState} from 'react';\nimport {\n    createTheme,\n    CssBaseline, Grid, IconButton,\n    PaletteOptions,\n    styled,\n    ThemeProvider, Tooltip,\n} from \"@mui/material\";\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport NavBar from \"./components/NavBar/NavBar\";\nimport Music from \"./components/ComingSoon/Music/Music\";\nimport News from \"./components/ComingSoon/News/News\";\nimport Settings from \"./components/ComingSoon/Settings/Settings\";\nimport RightDialogMenu from \"./components/Dialogs/RightDialogMenu/RightDialogMenu\";\nimport Communities from \"./components/ComingSoon/Communities/Communities\";\nimport Photos from \"./components/ComingSoon/Photos/Photos\";\nimport Videos from \"./components/ComingSoon/Videos/Videos\";\nimport ChatContainer from \"./components/Dialogs/ChatContainer\";\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport useClasses from \"./customHookCSS/useClasses\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport LightModeIcon from '@mui/icons-material/LightMode';\nimport DarkModeIcon from '@mui/icons-material/DarkMode';\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, useDispatch, useSelector} from \"react-redux\";\nimport {AppStateType} from \"./redux/redux-store\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./common/Preloader/Preloader\";\nimport Chat from \"./components/Chat/Chat\";\nimport {getUserProfile, ProfileType} from \"./redux/profile-reducer\";\n\n\nconst lightTheme = createTheme({\n    palette: {\n        mode: 'light',\n        primary: {\n            main: '#90caf9',\n        },\n        secondary: {\n            main: '#f50057',\n        },\n    },\n});\nconst darkTheme = createTheme({\n    palette: {\n        mode: 'dark',\n        primary: {\n            main: '#3f51b5',\n        },\n        secondary: {\n            main: '#f50057',\n        },\n    } as PaletteOptions,\n});\n\n\nconst MainContentContainer = styled('div')(({theme}) => ({\n    flexGrow: 1,\n    margin: 'auto',\n    width: '70%',\n    marginTop: '20px',\n    marginBottom: '20px',\n    [theme.breakpoints.down('md')]: {\n        width: '90%',\n    },\n    [theme.breakpoints.up('md')]: {\n        width: '90%',\n    },\n    [theme.breakpoints.up('lg')]: {\n        width: '80%',\n    },\n}));\n\nconst styles = (theme: any) => ({\n    rootContainer: {\n        gap: 16,\n        [theme.breakpoints.between('xs', \"md\")]: {\n            display: 'flex',\n            flexDirection: 'column',\n            flexWrap: 'wrap',\n            justifyContent: 'center',\n            width: '100%',\n            alignItems: 'center',\n        },\n        [theme.breakpoints.between('md', \"lg\")]: {\n            display: 'flex',\n            flexDirection: 'row',\n            flexWrap: 'nowrap',\n        },\n        [theme.breakpoints.up('lg')]: {\n            display: 'flex',\n            direction: 'row',\n            flexWrap: 'nowrap',\n        },\n\n    },\n    navigationContainer: {\n        [theme.breakpoints.between('xs', \"md\")]: {\n            display: 'none'\n        },\n        [theme.breakpoints.only('md')]: {\n            display: 'flex',\n            width: '60px',\n            overflow: 'hidden',\n        }\n    },\n\n\n});\n\n\nfunction App() {\n    console.log('app')\n    const classes = useClasses(styles);\n    const dispatch = useDispatch()\n\n    const [isDarkMode, setDarkMode] = useState(true)\n\n    const toggleThemeMode = () => {\n        setDarkMode(!isDarkMode)\n    }\n\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth )\n    const initialized = useSelector<AppStateType, boolean>(state => state.app.initialized)\n\n\n    useEffect(() => {\n        dispatch(initializeApp())\n    }, [])\n\n    if(!initialized){\n        return <Preloader/>\n    }\n\n    return (\n        <ThemeProvider theme={isDarkMode ? darkTheme :  lightTheme}>\n            <CssBaseline/>\n            <div className=\"App\">\n                <HeaderContainer/>\n                <MainContentContainer>\n                    <Grid item className={classes.rootContainer}>\n                        {isAuth && <Grid item className={classes.navigationContainer}>\n                            <Grid item>\n                                <NavBar/>\n                            </Grid>\n                        </Grid>}\n                        <Switch>\n                            <Route exact path=\"/\">\n                                <Redirect to=\"/profile\"/>\n                            </Route>\n                            <Route path='/profile/:userId?' render={() => <ProfileContainer />}/>\n                            <Route exact path='/dialogs' render={() =>\n                                <Grid container item spacing={2} flexDirection={\"row\"} flexWrap={\"nowrap\"}>\n                                    <DialogsContainer/>\n                                    <RightDialogMenu/>\n                                </Grid>\n                            }/>\n                            <Route path='/dialogs/:id' render={() =>\n                                <Grid container item spacing={2} flexDirection={\"row\"} flexWrap={\"nowrap\"}>\n                                    <ChatContainer/>\n                                    <RightDialogMenu/>\n                                </Grid>\n                            }/>\n                            <Route path='/users' render={() => <UsersContainer/>}/>\n                            <Route path='/news' render={() =><News/>}/>\n                            <Route path='/music' render={() => <Music/>}/>\n                            <Route path='/communities' render={() => <Communities/>}/>\n                            <Route path='/photos' render={() => <Photos/>}/>\n                            <Route path='/videos' render={() => <Videos/>}/>\n                            <Route path='/settings' render={() => <Settings/>}/>\n                            <Route path='/login' render={() => <Login/>}/>\n                            <Route path='/chat' render={() => <Chat/>}/>\n                        </Switch>\n                    </Grid>\n                </MainContentContainer>\n                <ModeButton aria-label=\"Switcher Mode\" size={\"large\"} onClick={toggleThemeMode}>\n                    {isDarkMode\n                        ? <Tooltip title=\"Switch to light\"><LightModeIcon color={\"warning\"}/></Tooltip>\n                        : <Tooltip title=\"Switch to dark\"><DarkModeIcon/></Tooltip> }\n                </ModeButton>\n            </div>\n        </ThemeProvider>\n\n    );\n}\n\nexport default App\n\nconst ModeButton = styled(IconButton)`\n  position: sticky;\n  bottom: 0;\n  left: 97%;\n`","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {createStore, combineReducers, applyMiddleware, Action} from 'redux'\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleWare, { ThunkAction } from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport {appReducer} from \"./app-reducer\";\r\nimport chatReducer from \"./chat-reducer\";\r\n\r\n\r\n\r\nlet rootReducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    usersPage:usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    chat: chatReducer\r\n})\r\n\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducers>\r\nexport type storeType = typeof store\r\nconst store = createStore( rootReducers, applyMiddleware(thunkMiddleWare))\r\n\r\nexport type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never\r\n\r\nexport type BaseThunkType<A extends Action = Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\r\n\r\nexport default store\r\n\r\n// @ts-ignore\r\nwindow.store = store;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from 'react-redux';\nimport store from './redux/redux-store'\nimport axios from \"axios\";\n\naxios.defaults.headers.common [\"API-KEY\"] = \"cf750a83-7c21-4e27-915c-0dade0a73893\"\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}